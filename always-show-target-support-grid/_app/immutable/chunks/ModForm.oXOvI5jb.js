import{S as Bn,i as In,s as Mn,d as F,v as Nn,aa as gt,H as Jt,F as vn,G as bn,ae as Qt,f as yn,n as X,u as ee,j as c,x as Yt,e as m,g as p,R as Tn,N as f,m as h,b as V,X as I,h as b,k as B,Y as M,U as a,Z as j,a6 as wn,y as vt,a3 as bt,aI as cn,I as ii,aJ as Gt,O as xn,P as le,Q as ae,$ as re,T as ce,V as De,ad as si,aB as Rn,a7 as oi,a5 as yt,r as O,p as wt,t as H,q as xt,W as ue,a0 as ri,_ as li,a8 as ai,a9 as ci}from"./vendor.BrZETyhx.js";import{o as tt,s as ge,a as nt,b as ui,l as fi,f as kn,g as di,V as Re,c as En,v as Sn,r as _n}from"./forms.DhBbzsHd.js";import{t as An}from"./forms.Dbvvj8M8.js";import{m as Kt}from"./markdown.OF5g2_xG.js";import{B as Pn,t as Zt}from"./graphql.CNu7qPRc.js";import{T as Dn}from"./TagList.BFqTQG1z.js";import{M as Un}from"./ModCompatibilityEdit.DWNrNaLc.js";const Ht=tt({name:ge().min(3).max(32),mod_reference:ge().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:ge().min(16).max(128),full_description:nt(ge()),logo:nt(ui().refine(t=>"name"in t&&"size"in t&&"type"in t)),source_url:ge().url().optional().or(fi("")),authors:nt(tt({role:ge(),user_id:ge()}).array()),compatibility:nt(tt({EA:tt({state:ge(),note:kn()}),EXP:tt({state:ge(),note:kn()})})),hidden:di(),tagIDs:nt(ge().array())}),ze="src/lib/components/mods/ModAuthor.svelte";function Cn(t){let e,n="Unknown User ID";const l={c:function(){e=m("p"),e.textContent=n,this.h()},l:function(r){e=p(r,"P",{class:!0,"data-svelte-h":!0}),Tn(e)!=="svelte-12dp6bw"&&(e.textContent=n),this.h()},h:function(){f(e,"class","mr-2 whitespace-nowrap"),h(e,ze,33,2,952)},m:function(r,i){X(r,e,i)},p:ee,d:function(r){r&&c(e)}};return F("SvelteRegisterBlock",{block:l,id:Cn.name,type:"else",source:"(28:0) {:else}",ctx:t}),l}function Fn(t){let e,n,l,o,r,i,s=t[2].data.getUser.username+"",u;const S={c:function(){e=m("div"),n=m("div"),o=V(),r=m("div"),i=m("span"),u=I(s),this.h()},l:function(_){e=p(_,"DIV",{class:!0});var y=b(e);n=p(y,"DIV",{class:!0,style:!0}),b(n).forEach(c),o=B(y),r=p(y,"DIV",{class:!0});var D=b(r);i=p(D,"SPAN",{class:!0});var w=b(i);u=M(w,s),w.forEach(c),D.forEach(c),y.forEach(c),this.h()},h:function(){f(n,"class","h-7 w-7 rounded-full bg-cover"),f(n,"style",l=`background-image: url("${t[2].data.getUser.avatar||Qt+"/images/no_image.webp"}")`),h(n,ze,25,4,654),f(i,"class","text-yellow-500"),h(i,ze,29,6,855),f(r,"class","grid grid-flow-row"),h(r,ze,28,4,816),f(e,"class","mr-2 grid auto-cols-max grid-flow-col gap-x-2"),h(e,ze,24,2,590)},m:function(_,y){X(_,e,y),a(e,n),a(e,o),a(e,r),a(r,i),a(i,u)},p:function(_,y){y&4&&l!==(l=`background-image: url("${_[2].data.getUser.avatar||Qt+"/images/no_image.webp"}")`)&&f(n,"style",l),y&4&&s!==(s=_[2].data.getUser.username+"")&&j(u,s)},d:function(_){_&&c(e)}};return F("SvelteRegisterBlock",{block:S,id:Fn.name,type:"if",source:"(19:29) ",ctx:t}),S}function Ln(t){let e,n=t[3]("error.oh-no")+"",l,o,r=t[2].error.message+"",i;const s={c:function(){e=m("p"),l=I(n),o=I("... "),i=I(r),this.h()},l:function(S){e=p(S,"P",{class:!0});var $=b(e);l=M($,n),o=M($,"... "),i=M($,r),$.forEach(c),this.h()},h:function(){f(e,"class","mr-2"),h(e,ze,22,2,493)},m:function(S,$){X(S,e,$),a(e,l),a(e,o),a(e,i)},p:function(S,$){$&8&&n!==(n=S[3]("error.oh-no")+"")&&j(l,n),$&4&&r!==(r=S[2].error.message+"")&&j(i,r)},d:function(S){S&&c(e)}};return F("SvelteRegisterBlock",{block:s,id:Ln.name,type:"if",source:"(17:22) ",ctx:t}),s}function jn(t){let e,n=t[3]("loading")+"",l,o;const r={c:function(){e=m("p"),l=I(n),o=I("..."),this.h()},l:function(s){e=p(s,"P",{class:!0});var u=b(e);l=M(u,n),o=M(u,"..."),u.forEach(c),this.h()},h:function(){f(e,"class","mr-2"),h(e,ze,20,2,429)},m:function(s,u){X(s,e,u),a(e,l),a(e,o)},p:function(s,u){u&8&&n!==(n=s[3]("loading")+"")&&j(l,n)},d:function(s){s&&c(e)}};return F("SvelteRegisterBlock",{block:r,id:jn.name,type:"if",source:"(15:0) {#if $user.fetching}",ctx:t}),r}function en(t){let e;function n(i,s){return i[2].fetching?jn:i[2].error?Ln:i[2].data.getUser?Fn:Cn}let l=n(t),o=l(t);const r={c:function(){o.c(),e=yn()},l:function(s){o.l(s),e=yn()},m:function(s,u){o.m(s,u),X(s,e,u)},p:function(s,[u]){l===(l=n(s))&&o?o.p(s,u):(o.d(1),o=l(s),o&&(o.c(),o.m(e.parentNode,e)))},i:ee,o:ee,d:function(s){s&&c(e),o.d(s)}};return F("SvelteRegisterBlock",{block:r,id:en.name,type:"component",source:"",ctx:t}),r}function mi(t,e,n){let l,o,r=ee,i=()=>(r(),r=Yt(l,d=>n(2,o=d)),l),s,u=ee,S=()=>(u(),u=Yt(D,d=>n(3,s=d)),D);t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>u());let{$$slots:$={},$$scope:_}=e;Nn("ModAuthor",$,[]);let{id:y}=e;const{t:D}=gt();Jt(D,"t"),S();const w=vn();t.$$.on_mount.push(function(){y===void 0&&!("id"in e||t.$$.bound[t.$$.props.id])&&console.warn("<ModAuthor> was created without expected prop 'id'")});const q=["id"];return Object.keys(e).forEach(d=>{!~q.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&console.warn(`<ModAuthor> was created with unknown prop '${d}'`)}),t.$$set=d=>{"id"in d&&n(4,y=d.id)},t.$capture_state=()=>({queryStore:bn,getContextClient:vn,GetUserDocument:Pn,assets:Qt,getTranslate:gt,id:y,t:D,client:w,user:l,$user:o,$t:s}),t.$inject_state=d=>{"id"in d&&n(4,y=d.id),"user"in d&&i(n(1,l=d.user))},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&16&&i(n(1,l=bn({query:Pn,client:w,variables:{user:y}})))},[D,l,o,s,y]}class qn extends Bn{constructor(e){super(e),In(this,e,mi,en,Mn,{id:4,t:0}),F("SvelteRegisterComponent",{component:this,tagName:"ModAuthor",options:e,id:en.name})}get id(){throw new Error("<ModAuthor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const v="src/lib/components/mods/ModForm.svelte";function Vn(t,e,n){const l=t.slice();return l[28]=e[n],l[29]=e,l[30]=n,l}function On(t){let e,n=(t[31]||"")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,89,8,2528)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[1]&1&&n!==(n=(i[31]||"")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:On.name,type:"slot",source:'(76:6) <ValidationMessage for=\\"name\\" let:messages={message}>',ctx:t}),o}function tn(t){let e,n=t[7]("mod.reference-warning")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){h(e,v,98,10,2881)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[0]&128&&n!==(n=i[7]("mod.reference-warning")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:tn.name,type:"if",source:"(85:8) {#if !editing}",ctx:t}),o}function Xn(t){let e,n=(t[31]||"")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,102,8,3030)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[1]&1&&n!==(n=(i[31]||"")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:Xn.name,type:"slot",source:'(89:6) <ValidationMessage for=\\"mod_reference\\" let:messages={message}>',ctx:t}),o}function zn(t){let e,n=(t[31]||"")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,112,8,3441)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[1]&1&&n!==(n=(i[31]||"")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:zn.name,type:"slot",source:'(99:6) <ValidationMessage for=\\"short_description\\" let:messages={message}>',ctx:t}),o}function Wn(t){let e,n=(t[31]||"")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,123,10,3934)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[1]&1&&n!==(n=(i[31]||"")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:Wn.name,type:"slot",source:'(110:8) <ValidationMessage for=\\"full_description\\" let:messages={message}>',ctx:t}),o}function Gn(t){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return F("SvelteRegisterBlock",{block:e,id:Gn.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:t}),e}function Zn(t){let e,n,l=t[32]+"";const o={c:function(){e=m("div"),n=new ai(!1),this.h()},l:function(i){e=p(i,"DIV",{class:!0});var s=b(e);n=ci(s,!1),s.forEach(c),this.h()},h:function(){n.a=null,f(e,"class","markdown-content right svelte-k92wki"),h(e,v,130,10,4229)},m:function(i,s){X(i,e,s),n.m(l,e)},p:function(i,s){s[0]&64&&l!==(l=i[32]+"")&&n.p(l)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:Zn.name,type:"then",source:'(116:55)            <!-- eslint-disable -->           <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:t}),o}function Hn(t){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return F("SvelteRegisterBlock",{block:e,id:Hn.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:t}),e}function Jn(t){let e,n=(t[31]||"")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,149,8,4769)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[1]&1&&n!==(n=(i[31]||"")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:Jn.name,type:"slot",source:'(136:6) <ValidationMessage for=\\"logo\\" let:messages={message}>',ctx:t}),o}function Qn(t){let e,n=(t[31]||"")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,159,8,5157)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[1]&1&&n!==(n=(i[31]||"")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:Qn.name,type:"slot",source:'(146:6) <ValidationMessage for=\\"source_url\\" let:messages={message}>',ctx:t}),o}function Yn(t){let e=t[7]("entry.hidden")+"",n;const l={c:function(){n=I(e)},l:function(r){n=M(r,e)},m:function(r,i){X(r,n,i)},p:function(r,i){i[0]&128&&e!==(e=r[7]("entry.hidden")+"")&&j(n,e)},d:function(r){r&&c(n)}};return F("SvelteRegisterBlock",{block:l,id:Yn.name,type:"slot",source:'(152:6) <SlideToggle name=\\"slider-label\\" bind:checked={$data.hidden}>',ctx:t}),l}function Kn(t){let e,n=(t[31]||"")+"",l;const o={c:function(){e=m("span"),l=I(n),this.h()},l:function(i){e=p(i,"SPAN",{class:!0});var s=b(e);l=M(s,n),s.forEach(c),this.h()},h:function(){f(e,"class","validation-message"),h(e,v,168,8,5483)},m:function(i,s){X(i,e,s),a(e,l)},p:function(i,s){s[1]&1&&n!==(n=(i[31]||"")+"")&&j(l,n)},d:function(i){i&&c(e)}};return F("SvelteRegisterBlock",{block:o,id:Kn.name,type:"slot",source:'(155:6) <ValidationMessage for=\\"hidden\\" let:messages={message}>',ctx:t}),o}function nn(t){let e,n,l,o,r,i,s,u,S=t[7]("authors")+"",$,_,y,D,w=t[7]("add")+"",q,d,z,J,Q;function L(N){t[22](N)}let T={name:"slider-label",$$slots:{default:[ei]},$$scope:{ctx:t}};t[5]!==void 0&&(T.checked=t[5]),n=new cn({props:T,$$inline:!0}),vt.push(()=>bt(n,"checked",L)),n.$on("change",t[23]);let R=t[5]&&sn(t),ie=xn(t[4].authors),A=[];for(let N=0;N<ie.length;N+=1)A[N]=ln(Vn(t,ie,N));const Ue=N=>H(A[N],1,1,()=>{A[N]=null}),te={c:function(){e=m("div"),le(n.$$.fragment),o=V(),R&&R.c(),r=V(),i=m("div"),s=m("div"),u=m("h4"),$=I(S),_=V(),y=m("button"),D=m("span"),q=I(w),d=V();for(let x=0;x<A.length;x+=1)A[x].c();this.h()},l:function(x){e=p(x,"DIV",{});var P=b(e);ae(n.$$.fragment,P),P.forEach(c),o=B(x),R&&R.l(x),r=B(x),i=p(x,"DIV",{class:!0});var G=b(i);s=p(G,"DIV",{class:!0});var C=b(s);u=p(C,"H4",{class:!0});var fe=b(u);$=M(fe,S),fe.forEach(c),_=B(C),y=p(C,"BUTTON",{class:!0,type:!0});var Y=b(y);D=p(Y,"SPAN",{});var Ae=b(D);q=M(Ae,w),Ae.forEach(c),Y.forEach(c),C.forEach(c),d=B(G);for(let ne=0;ne<A.length;ne+=1)A[ne].l(G);G.forEach(c),this.h()},h:function(){h(e,v,172,6,5601),f(u,"class","mr-4"),h(u,v,189,10,6124),h(D,v,191,12,6262),f(y,"class","variant-ghost-primary btn"),f(y,"type","button"),h(y,v,190,10,6172),f(s,"class","flex items-center"),h(s,v,188,8,6082),f(i,"class","grid grid-flow-row gap-2"),h(i,v,187,6,6035)},m:function(x,P){X(x,e,P),ce(n,e,null),X(x,o,P),R&&R.m(x,P),X(x,r,P),X(x,i,P),a(i,s),a(s,u),a(u,$),a(s,_),a(s,y),a(y,D),a(D,q),a(i,d);for(let G=0;G<A.length;G+=1)A[G]&&A[G].m(i,null);z=!0,J||(Q=De(y,"click",t[10],!1,!1,!1,!1),J=!0)},p:function(x,P){const G={};if(P[0]&128|P[1]&4&&(G.$$scope={dirty:P,ctx:x}),!l&&P[0]&32&&(l=!0,G.checked=x[5],yt(()=>l=!1)),n.$set(G),x[5]?R?(R.p(x,P),P[0]&32&&O(R,1)):(R=sn(x),R.c(),O(R,1),R.m(r.parentNode,r)):R&&(wt(),H(R,1,1,()=>{R=null}),xt()),(!z||P[0]&128)&&S!==(S=x[7]("authors")+"")&&j($,S),(!z||P[0]&128)&&w!==(w=x[7]("add")+"")&&j(q,w),P[0]&2192){ie=xn(x[4].authors);let C;for(C=0;C<ie.length;C+=1){const fe=Vn(x,ie,C);A[C]?(A[C].p(fe,P),O(A[C],1)):(A[C]=ln(fe),A[C].c(),O(A[C],1),A[C].m(i,null))}for(wt(),C=ie.length;C<A.length;C+=1)Ue(C);xt()}},i:function(x){if(!z){O(n.$$.fragment,x),O(R);for(let P=0;P<ie.length;P+=1)O(A[P]);z=!0}},o:function(x){H(n.$$.fragment,x),H(R),A=A.filter(Boolean);for(let P=0;P<A.length;P+=1)H(A[P]);z=!1},d:function(x){x&&(c(e),c(o),c(r),c(i)),ue(n),R&&R.d(x),li(A,x),J=!1,Q()}};return F("SvelteRegisterBlock",{block:te,id:nn.name,type:"if",source:"(159:4) {#if editing}",ctx:t}),te}function ei(t){let e=t[7]("compatibility-info.edit")+"",n;const l={c:function(){n=I(e)},l:function(r){n=M(r,e)},m:function(r,i){X(r,n,i)},p:function(r,i){i[0]&128&&e!==(e=r[7]("compatibility-info.edit")+"")&&j(n,e)},d:function(r){r&&c(n)}};return F("SvelteRegisterBlock",{block:l,id:ei.name,type:"slot",source:'(161:8) <SlideToggle           name=\\"slider-label\\"           bind:checked={editCompatibility}           on:change={() => {             $data.compatibility = editCompatibility ? originalCompatibility : undefined;           }}>',ctx:t}),l}function sn(t){let e,n,l;function o(s){t[24](s)}let r={};t[4].compatibility!==void 0&&(r.compatibilityInfo=t[4].compatibility),e=new Un({props:r,$$inline:!0}),vt.push(()=>bt(e,"compatibilityInfo",o));const i={c:function(){le(e.$$.fragment)},l:function(u){ae(e.$$.fragment,u)},m:function(u,S){ce(e,u,S),l=!0},p:function(u,S){const $={};!n&&S[0]&16&&(n=!0,$.compatibilityInfo=u[4].compatibility,yt(()=>n=!1)),e.$set($)},i:function(u){l||(O(e.$$.fragment,u),l=!0)},o:function(u){H(e.$$.fragment,u),l=!1},d:function(u){ue(e,u)}};return F("SvelteRegisterBlock",{block:i,id:sn.name,type:"if",source:"(171:6) {#if editCompatibility}",ctx:t}),i}function on(t){let e,n,l;n=new qn({props:{id:t[4].authors[t[30]].user_id},$$inline:!0});const o={c:function(){e=m("div"),le(n.$$.fragment),this.h()},l:function(i){e=p(i,"DIV",{class:!0});var s=b(e);ae(n.$$.fragment,s),s.forEach(c),this.h()},h:function(){f(e,"class","p-2"),h(e,v,197,14,6461)},m:function(i,s){X(i,e,s),ce(n,e,null),l=!0},p:function(i,s){const u={};s[0]&16&&(u.id=i[4].authors[i[30]].user_id),n.$set(u)},i:function(i){l||(O(n.$$.fragment,i),l=!0)},o:function(i){H(n.$$.fragment,i),l=!1},d:function(i){i&&c(e),ue(n)}};return F("SvelteRegisterBlock",{block:o,id:on.name,type:"if",source:"(184:12) {#if $data.authors[i].user_id}",ctx:t}),o}function rn(t){let e,n,l=t[7]("remove")+"",o,r,i;function s(){return t[26](t[30])}const u={c:function(){e=m("button"),n=m("span"),o=I(l),this.h()},l:function($){e=p($,"BUTTON",{class:!0,type:!0});var _=b(e);n=p(_,"SPAN",{});var y=b(n);o=M(y,l),y.forEach(c),_.forEach(c),this.h()},h:function(){h(n,v,212,16,7050),f(e,"class","variant-ghost-primary btn"),f(e,"type","button"),h(e,v,211,14,6944)},m:function($,_){X($,e,_),a(e,n),a(n,o),r||(i=De(e,"click",s,!1,!1,!1,!1),r=!0)},p:function($,_){t=$,_[0]&128&&l!==(l=t[7]("remove")+"")&&j(o,l)},d:function($){$&&c(e),r=!1,i()}};return F("SvelteRegisterBlock",{block:u,id:rn.name,type:"if",source:"(198:12) {#if author.role !== 'creator'}",ctx:t}),u}function ln(t){let e,n,l,o,r="User ID",i,s,u,S,$,_,y,D,w=t[4].authors[t[30]].user_id&&on(t);function q(){t[25].call(s,t[30])}let d=t[28].role!=="creator"&&rn(t);const z={c:function(){e=m("div"),w&&w.c(),n=V(),l=m("label"),o=m("span"),o.textContent=r,i=V(),s=m("input"),S=V(),d&&d.c(),$=V(),this.h()},l:function(Q){e=p(Q,"DIV",{class:!0});var L=b(e);w&&w.l(L),n=B(L),l=p(L,"LABEL",{class:!0});var T=b(l);o=p(T,"SPAN",{"data-svelte-h":!0}),Tn(o)!=="svelte-5fmcbq"&&(o.textContent=r),i=B(T),s=p(T,"INPUT",{type:!0,class:!0}),T.forEach(c),S=B(L),d&&d.l(L),$=B(L),L.forEach(c),this.h()},h:function(){h(o,v,202,14,6626),f(s,"type","text"),s.required=!0,f(s,"class","input p-2"),s.disabled=u=t[28].role==="creator",h(s,v,203,14,6661),f(l,"class","label"),h(l,v,201,12,6590),f(e,"class","flex items-end"),h(e,v,195,10,6375)},m:function(Q,L){X(Q,e,L),w&&w.m(e,null),a(e,n),a(e,l),a(l,o),a(l,i),a(l,s),re(s,t[4].authors[t[30]].user_id),a(e,S),d&&d.m(e,null),a(e,$),_=!0,y||(D=De(s,"input",q),y=!0)},p:function(Q,L){t=Q,t[4].authors[t[30]].user_id?w?(w.p(t,L),L[0]&16&&O(w,1)):(w=on(t),w.c(),O(w,1),w.m(e,n)):w&&(wt(),H(w,1,1,()=>{w=null}),xt()),(!_||L[0]&16&&u!==(u=t[28].role==="creator"))&&Rn(s,"disabled",u),L[0]&16&&s.value!==t[4].authors[t[30]].user_id&&re(s,t[4].authors[t[30]].user_id),t[28].role!=="creator"?d?d.p(t,L):(d=rn(t),d.c(),d.m(e,$)):d&&(d.d(1),d=null)},i:function(Q){_||(O(w),_=!0)},o:function(Q){H(w),_=!1},d:function(Q){Q&&c(e),w&&w.d(),d&&d.d(),y=!1,D()}};return F("SvelteRegisterBlock",{block:z,id:ln.name,type:"each",source:"(182:8) {#each $data.authors as author, i}",ctx:t}),z}function an(t){let e,n,l,o,r,i=t[7]("entry.name")+"",s,u,S,$,_,y,D,w,q,d,z=t[7]("mod.reference")+"",J,Q,L,T,R,ie,A,Ue,te,N,x,P=t[7]("entry.short-description")+"",G,C,fe,Y,Ae,ne,g,ve,be,ye,Ce,Qe=t[7]("entry.full-description")+"",it,kt,Et,de,St,Pe,_t,he,Fe,Ye=t[7]("preview")+"",st,At,Pt,ot,Vt,Le,we,Bt,It,me,Ve,Ke=t[7]("logo")+"",rt,Mt,Nt,$e,Tt,Be,Rt,xe,ke,We,et=t[7]("entry.source-url")+"",lt,Dt,pe,Ut,Ie,Ct,Ee,Se,Ft,Lt,Me,jt,at,Ge,Ne,ct,se,qt,un;y=new Re({props:{for:"name",$$slots:{default:[On,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});let K=!t[2]&&tn(t);A=new Re({props:{for:"mod_reference",$$slots:{default:[Xn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0}),ne=new Re({props:{for:"short_description",$$slots:{default:[zn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0}),Pe=new Re({props:{for:"full_description",$$slots:{default:[Wn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});let oe={ctx:t,current:null,token:null,hasCatch:!1,pending:Hn,then:Zn,catch:Gn,value:32};wn(ot=Kt(t[6]),oe);function ti(E){t[19](E)}let fn={editable:!0};t[3]!==void 0&&(fn.tags=t[3]),we=new Dn({props:fn,$$inline:!0}),vt.push(()=>bt(we,"tags",ti)),Be=new Re({props:{for:"logo",$$slots:{default:[Jn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0}),Ie=new Re({props:{for:"source_url",$$slots:{default:[Qn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});function ni(E){t[21](E)}let dn={name:"slider-label",$$slots:{default:[Yn]},$$scope:{ctx:t}};t[4].hidden!==void 0&&(dn.checked=t[4].hidden),Se=new cn({props:dn,$$inline:!0}),vt.push(()=>bt(Se,"checked",ni)),Me=new Re({props:{for:"hidden",$$slots:{default:[Kn,({messages:E})=>({31:E}),({messages:E})=>[0,E?1:0]]},$$scope:{ctx:t}},$$inline:!0});let Z=t[2]&&nn(t);const mn={c:function(){e=m("form"),n=m("div"),l=m("div"),o=m("label"),r=m("span"),s=I(i),u=I(" *"),S=V(),$=m("input"),_=V(),le(y.$$.fragment),D=V(),w=m("div"),q=m("label"),d=m("span"),J=I(z),Q=I(" *"),L=V(),T=m("input"),R=V(),K&&K.c(),ie=V(),le(A.$$.fragment),Ue=V(),te=m("div"),N=m("label"),x=m("span"),G=I(P),C=I(" *"),fe=V(),Y=m("input"),Ae=V(),le(ne.$$.fragment),g=V(),ve=m("div"),be=m("div"),ye=m("label"),Ce=m("span"),it=I(Qe),kt=I(" *"),Et=V(),de=m("textarea"),St=V(),le(Pe.$$.fragment),_t=V(),he=m("div"),Fe=m("span"),st=I(Ye),At=I(":"),Pt=V(),oe.block.c(),Vt=V(),Le=m("div"),le(we.$$.fragment),It=V(),me=m("div"),Ve=m("label"),rt=I(Ke),Mt=I(":"),Nt=V(),$e=m("input"),Tt=V(),le(Be.$$.fragment),Rt=V(),xe=m("div"),ke=m("label"),We=m("span"),lt=I(et),Dt=V(),pe=m("input"),Ut=V(),le(Ie.$$.fragment),Ct=V(),Ee=m("div"),le(Se.$$.fragment),Lt=V(),le(Me.$$.fragment),jt=V(),Z&&Z.c(),at=V(),Ge=m("div"),Ne=m("button"),ct=I(t[1]),this.h()},l:function(U){e=p(U,"FORM",{});var k=b(e);n=p(k,"DIV",{class:!0});var W=b(n);l=p(W,"DIV",{class:!0});var je=b(l);o=p(je,"LABEL",{class:!0});var qe=b(o);r=p(qe,"SPAN",{});var Ze=b(r);s=M(Ze,i),u=M(Ze," *"),Ze.forEach(c),S=B(qe),$=p(qe,"INPUT",{type:!0,class:!0}),qe.forEach(c),_=B(je),ae(y.$$.fragment,je),je.forEach(c),D=B(W),w=p(W,"DIV",{class:!0});var Oe=b(w);q=p(Oe,"LABEL",{class:!0});var _e=b(q);d=p(_e,"SPAN",{});var He=b(d);J=M(He,z),Q=M(He," *"),He.forEach(c),L=B(_e),T=p(_e,"INPUT",{type:!0,class:!0}),R=B(_e),K&&K.l(_e),_e.forEach(c),ie=B(Oe),ae(A.$$.fragment,Oe),Oe.forEach(c),Ue=B(W),te=p(W,"DIV",{class:!0});var Te=b(te);N=p(Te,"LABEL",{class:!0});var Xe=b(N);x=p(Xe,"SPAN",{});var Ot=b(x);G=M(Ot,P),C=M(Ot," *"),Ot.forEach(c),fe=B(Xe),Y=p(Xe,"INPUT",{type:!0,class:!0}),Xe.forEach(c),Ae=B(Te),ae(ne.$$.fragment,Te),Te.forEach(c),g=B(W),ve=p(W,"DIV",{class:!0});var ut=b(ve);be=p(ut,"DIV",{class:!0});var ft=b(be);ye=p(ft,"LABEL",{class:!0});var dt=b(ye);Ce=p(dt,"SPAN",{});var Xt=b(Ce);it=M(Xt,Qe),kt=M(Xt," *"),Xt.forEach(c),Et=B(dt),de=p(dt,"TEXTAREA",{class:!0,rows:!0}),b(de).forEach(c),dt.forEach(c),St=B(ft),ae(Pe.$$.fragment,ft),ft.forEach(c),_t=B(ut),he=p(ut,"DIV",{class:!0});var mt=b(he);Fe=p(mt,"SPAN",{});var zt=b(Fe);st=M(zt,Ye),At=M(zt,":"),zt.forEach(c),Pt=B(mt),oe.block.l(mt),mt.forEach(c),ut.forEach(c),Vt=B(W),Le=p(W,"DIV",{class:!0});var pn=b(Le);ae(we.$$.fragment,pn),pn.forEach(c),It=B(W),me=p(W,"DIV",{class:!0});var Je=b(me);Ve=p(Je,"LABEL",{for:!0});var Wt=b(Ve);rt=M(Wt,Ke),Mt=M(Wt,":"),Wt.forEach(c),Nt=B(Je),$e=p(Je,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Tt=B(Je),ae(Be.$$.fragment,Je),Je.forEach(c),Rt=B(W),xe=p(W,"DIV",{class:!0});var pt=b(xe);ke=p(pt,"LABEL",{class:!0});var ht=b(ke);We=p(ht,"SPAN",{});var hn=b(We);lt=M(hn,et),hn.forEach(c),Dt=B(ht),pe=p(ht,"INPUT",{type:!0,class:!0}),ht.forEach(c),Ut=B(pt),ae(Ie.$$.fragment,pt),pt.forEach(c),Ct=B(W),Ee=p(W,"DIV",{class:!0});var $t=b(Ee);ae(Se.$$.fragment,$t),Lt=B($t),ae(Me.$$.fragment,$t),$t.forEach(c),jt=B(W),Z&&Z.l(W),at=B(W),Ge=p(W,"DIV",{});var $n=b(Ge);Ne=p($n,"BUTTON",{class:!0,type:!0});var gn=b(Ne);ct=M(gn,t[1]),gn.forEach(c),$n.forEach(c),W.forEach(c),k.forEach(c),this.h()},h:function(){h(r,v,85,8,2330),f($,"type","text"),$.required=!0,f($,"class","input p-2"),h($,v,86,8,2372),f(o,"class","label"),h(o,v,84,6,2300),f(l,"class","grid grid-flow-row gap-2"),h(l,v,83,4,2255),h(d,v,95,8,2702),f(T,"type","text"),T.required=!0,f(T,"class","input p-2"),T.disabled=t[2],h(T,v,96,8,2747),f(q,"class","label"),h(q,v,94,6,2672),f(w,"class","grid grid-flow-row gap-2"),h(w,v,93,4,2627),h(x,v,108,8,3204),f(Y,"type","text"),Y.required=!0,f(Y,"class","input p-2"),h(Y,v,109,8,3259),f(N,"class","label"),h(N,v,107,6,3174),f(te,"class","grid grid-flow-row gap-2"),h(te,v,106,4,3129),h(Ce,v,119,10,3670),f(de,"class","vertical-textarea textarea p-2"),de.required=!0,f(de,"rows",10),h(de,v,120,10,3726),f(ye,"class","label"),h(ye,v,118,8,3638),f(be,"class","grid grid-flow-row auto-rows-max gap-2"),h(be,v,117,6,3577),h(Fe,v,127,8,4099),f(he,"class","grid grid-flow-row auto-rows-max gap-2"),h(he,v,126,6,4038),f(ve,"class","split grid gap-6 svelte-k92wki"),h(ve,v,116,4,3540),f(Le,"class","grid grid-flow-row gap-2"),h(Le,v,135,4,4341),f(Ve,"for","logo"),h(Ve,v,140,6,4485),f($e,"id","logo"),f($e,"class","base-input"),f($e,"name","logo"),f($e,"type","file"),f($e,"accept","image/png,image/jpeg,image/gif"),f($e,"placeholder","Logo"),h($e,v,141,6,4531),f(me,"class","grid grid-flow-row gap-2"),h(me,v,139,4,4440),h(We,v,155,8,4943),f(pe,"type","text"),pe.required=!0,f(pe,"class","input p-2"),h(pe,v,156,8,4989),f(ke,"class","label"),h(ke,v,154,6,4913),f(xe,"class","grid grid-flow-row gap-2"),h(xe,v,153,4,4868),f(Ee,"class","grid grid-flow-row gap-2"),h(Ee,v,163,4,5256),f(Ne,"class","variant-ghost-primary btn"),f(Ne,"type","submit"),h(Ne,v,221,6,7193),h(Ge,v,220,4,7181),f(n,"class","grid grid-flow-row gap-6"),h(n,v,82,2,2212),h(e,v,81,0,2194)},m:function(U,k){X(U,e,k),a(e,n),a(n,l),a(l,o),a(o,r),a(r,s),a(r,u),a(o,S),a(o,$),re($,t[4].name),a(l,_),ce(y,l,null),a(n,D),a(n,w),a(w,q),a(q,d),a(d,J),a(d,Q),a(q,L),a(q,T),re(T,t[4].mod_reference),a(q,R),K&&K.m(q,null),a(w,ie),ce(A,w,null),a(n,Ue),a(n,te),a(te,N),a(N,x),a(x,G),a(x,C),a(N,fe),a(N,Y),re(Y,t[4].short_description),a(te,Ae),ce(ne,te,null),a(n,g),a(n,ve),a(ve,be),a(be,ye),a(ye,Ce),a(Ce,it),a(Ce,kt),a(ye,Et),a(ye,de),re(de,t[4].full_description),a(be,St),ce(Pe,be,null),a(ve,_t),a(ve,he),a(he,Fe),a(Fe,st),a(Fe,At),a(he,Pt),oe.block.m(he,oe.anchor=null),oe.mount=()=>he,oe.anchor=null,a(n,Vt),a(n,Le),ce(we,Le,null),a(n,It),a(n,me),a(me,Ve),a(Ve,rt),a(Ve,Mt),a(me,Nt),a(me,$e),a(me,Tt),ce(Be,me,null),a(n,Rt),a(n,xe),a(xe,ke),a(ke,We),a(We,lt),a(ke,Dt),a(ke,pe),re(pe,t[4].source_url),a(xe,Ut),ce(Ie,xe,null),a(n,Ct),a(n,Ee),ce(Se,Ee,null),a(Ee,Lt),ce(Me,Ee,null),a(n,jt),Z&&Z.m(n,null),a(n,at),a(n,Ge),a(Ge,Ne),a(Ne,ct),se=!0,qt||(un=[De($,"input",t[15]),De(T,"input",t[16]),De(Y,"input",t[17]),De(de,"input",t[18]),De(pe,"input",t[20]),si(t[8].call(null,e))],qt=!0)},p:function(U,k){t=U,(!se||k[0]&128)&&i!==(i=t[7]("entry.name")+"")&&j(s,i),k[0]&16&&$.value!==t[4].name&&re($,t[4].name);const W={};k[1]&5&&(W.$$scope={dirty:k,ctx:t}),y.$set(W),(!se||k[0]&128)&&z!==(z=t[7]("mod.reference")+"")&&j(J,z),(!se||k[0]&4)&&Rn(T,"disabled",t[2]),k[0]&16&&T.value!==t[4].mod_reference&&re(T,t[4].mod_reference),t[2]?K&&(K.d(1),K=null):K?K.p(t,k):(K=tn(t),K.c(),K.m(q,null));const je={};k[1]&5&&(je.$$scope={dirty:k,ctx:t}),A.$set(je),(!se||k[0]&128)&&P!==(P=t[7]("entry.short-description")+"")&&j(G,P),k[0]&16&&Y.value!==t[4].short_description&&re(Y,t[4].short_description);const qe={};k[1]&5&&(qe.$$scope={dirty:k,ctx:t}),ne.$set(qe),(!se||k[0]&128)&&Qe!==(Qe=t[7]("entry.full-description")+"")&&j(it,Qe),k[0]&16&&re(de,t[4].full_description);const Ze={};k[1]&5&&(Ze.$$scope={dirty:k,ctx:t}),Pe.$set(Ze),(!se||k[0]&128)&&Ye!==(Ye=t[7]("preview")+"")&&j(st,Ye),oe.ctx=t,k[0]&64&&ot!==(ot=Kt(t[6]))&&wn(ot,oe)||oi(oe,t,k);const Oe={};!Bt&&k[0]&8&&(Bt=!0,Oe.tags=t[3],yt(()=>Bt=!1)),we.$set(Oe),(!se||k[0]&128)&&Ke!==(Ke=t[7]("logo")+"")&&j(rt,Ke);const _e={};k[1]&5&&(_e.$$scope={dirty:k,ctx:t}),Be.$set(_e),(!se||k[0]&128)&&et!==(et=t[7]("entry.source-url")+"")&&j(lt,et),k[0]&16&&pe.value!==t[4].source_url&&re(pe,t[4].source_url);const He={};k[1]&5&&(He.$$scope={dirty:k,ctx:t}),Ie.$set(He);const Te={};k[0]&128|k[1]&4&&(Te.$$scope={dirty:k,ctx:t}),!Ft&&k[0]&16&&(Ft=!0,Te.checked=t[4].hidden,yt(()=>Ft=!1)),Se.$set(Te);const Xe={};k[1]&5&&(Xe.$$scope={dirty:k,ctx:t}),Me.$set(Xe),t[2]?Z?(Z.p(t,k),k[0]&4&&O(Z,1)):(Z=nn(t),Z.c(),O(Z,1),Z.m(n,at)):Z&&(wt(),H(Z,1,1,()=>{Z=null}),xt()),(!se||k[0]&2)&&j(ct,t[1])},i:function(U){se||(O(y.$$.fragment,U),O(A.$$.fragment,U),O(ne.$$.fragment,U),O(Pe.$$.fragment,U),O(we.$$.fragment,U),O(Be.$$.fragment,U),O(Ie.$$.fragment,U),O(Se.$$.fragment,U),O(Me.$$.fragment,U),O(Z),se=!0)},o:function(U){H(y.$$.fragment,U),H(A.$$.fragment,U),H(ne.$$.fragment,U),H(Pe.$$.fragment,U),H(we.$$.fragment,U),H(Be.$$.fragment,U),H(Ie.$$.fragment,U),H(Se.$$.fragment,U),H(Me.$$.fragment,U),H(Z),se=!1},d:function(U){U&&c(e),ue(y),K&&K.d(),ue(A),ue(ne),ue(Pe),oe.block.d(),oe.token=null,oe=null,ue(we),ue(Be),ue(Ie),ue(Se),ue(Me),Z&&Z.d(),qt=!1,ri(un)}};return F("SvelteRegisterBlock",{block:mn,id:an.name,type:"component",source:"",ctx:t}),mn}function pi(t,e,n){let l,o,r,i=ee,s=()=>(i(),i=Yt($,g=>n(7,r=g)),$);t.$$.on_destroy.push(()=>i());let{$$slots:u={},$$scope:S}=e;Nn("ModForm",u,[]);const{t:$}=gt();Jt($,"t"),s();let{onSubmit:_}=e,{initialValues:y={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,tagIDs:[],compatibility:{EA:{state:Zt.Works,note:""},EXP:{state:Zt.Works,note:""}}}}=e,{submitText:D=r("entry.create")}=e,{editing:w=!1}=e;const{form:q,data:d}=En({initialValues:y,extend:[Sn({schema:Ht}),_n],onSubmit:g=>_(An(g,Ht))});Jt(d,"data"),ii(t,d,g=>n(4,o=g));let z=o.tags;const J=()=>{Gt(d,o.tagIDs=z.map(g=>g.id),o)},Q=()=>{o.authors.push({role:"editor",user_id:"",key:""}),d.set(o)},L=g=>{o.authors.splice(g,1),d.set(o)};let T=!1;const R=o.compatibility;t.$$.on_mount.push(function(){_===void 0&&!("onSubmit"in e||t.$$.bound[t.$$.props.onSubmit])&&console.warn("<ModForm> was created without expected prop 'onSubmit'")});const ie=["onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(g=>{!~ie.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<ModForm> was created with unknown prop '${g}'`)});function A(){o.name=this.value,d.set(o)}function Ue(){o.mod_reference=this.value,d.set(o)}function te(){o.short_description=this.value,d.set(o)}function N(){o.full_description=this.value,d.set(o)}function x(g){z=g,n(3,z)}function P(){o.source_url=this.value,d.set(o)}function G(g){t.$$.not_equal(o.hidden,g)&&(o.hidden=g,d.set(o))}function C(g){T=g,n(5,T)}const fe=()=>{Gt(d,o.compatibility=T?R:void 0,o)};function Y(g){t.$$.not_equal(o.compatibility,g)&&(o.compatibility=g,d.set(o))}function Ae(g){o.authors[g].user_id=this.value,d.set(o)}const ne=g=>L(g);return t.$$set=g=>{"onSubmit"in g&&n(13,_=g.onSubmit),"initialValues"in g&&n(14,y=g.initialValues),"submitText"in g&&n(1,D=g.submitText),"editing"in g&&n(2,w=g.editing)},t.$capture_state=()=>({createForm:En,validator:Sn,reporter:_n,ValidationMessage:Re,modSchema:Ht,trimNonSchema:An,markdown:Kt,ModAuthor:qn,TagList:Dn,CompatibilityState:Zt,ModCompatibility:Un,getTranslate:gt,SlideToggle:cn,t:$,onSubmit:_,initialValues:y,submitText:D,editing:w,form:q,data:d,tags:z,computeTags:J,addAuthor:Q,removeAuthor:L,editCompatibility:T,originalCompatibility:R,preview:l,$data:o,$t:r}),t.$inject_state=g=>{"onSubmit"in g&&n(13,_=g.onSubmit),"initialValues"in g&&n(14,y=g.initialValues),"submitText"in g&&n(1,D=g.submitText),"editing"in g&&n(2,w=g.editing),"tags"in g&&n(3,z=g.tags),"editCompatibility"in g&&n(5,T=g.editCompatibility),"preview"in g&&n(6,l=g.preview)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty[0]&8&&z&&J(),t.$$.dirty[0]&16&&Gt(d,o.compatibility=o.compatibility?o.compatibility:void 0,o),t.$$.dirty[0]&20&&(w||delete o.compatibility),t.$$.dirty[0]&16&&n(6,l=o.full_description||"")},[$,D,w,z,o,T,l,r,q,d,Q,L,R,_,y,A,Ue,te,N,x,P,G,C,fe,Y,Ae,ne]}class xi extends Bn{constructor(e){super(e),In(this,e,pi,an,Mn,{t:0,onSubmit:13,initialValues:14,submitText:1,editing:2},null,[-1,-1]),F("SvelteRegisterComponent",{component:this,tagName:"ModForm",options:e,id:an.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{xi as M};
//# sourceMappingURL=ModForm.oXOvI5jb.js.map
