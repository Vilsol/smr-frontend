import{G as qt,S as it,i as ct,s as lt,d as M,a6 as pt,v as ft,e as g,b as P,g as v,h as b,k as N,j as p,N as E,m as $,n as j,U as c,r as Y,p as Fe,t as ne,q as Le,a7 as Gt,P as Ee,Q as ye,T as ke,W as Se,u as T,a8 as Ht,a9 as Ft,aa as ht,H as Qe,X as R,R as ue,Y as C,Z as ee,x as Lt,I as mt,F as gt,J as vt,aj as $t,ac as Ge,a1 as Pe,aB as yt,M as Qt,f as Te,a4 as Wt,V as We,a0 as Jt,O as wt,l as Xt,ad as Yt,_ as Zt}from"../chunks/vendor.BMQGiw0k.js";import{r as Kt,q as kt,z as Vt}from"../chunks/graphql.CNu7qPRc.js";import{l as en}from"../chunks/gql.DGDorg1Q.js";import{m as Je}from"../chunks/markdown.CR7Yazm8.js";import{A as St}from"../chunks/AnnouncementRow.Bet6erSY.js";import{p as Xe,a as Ye,b as Ze,c as Ke}from"../chunks/formatting.DRqZGGFY.js";import{M as It}from"../chunks/MetaDescriptors.PVCzIjbG.js";import{A as Oe}from"../chunks/api.Dn0ikjHb.js";import{u as He}from"../chunks/user.Ci1uVs_V.js";import{i as bt}from"../chunks/launcher.ASQ-DCfz.js";import{V as Dt,a as Pt}from"../chunks/VersionDependenciesGrid.DjLIfJGG.js";import{P as Nt}from"../chunks/Page404.ZzBQvNxe.js";const tn=async({params:t,parent:e})=>({...t,...await en({version:qt({query:Kt,client:(await e()).client,variables:{version:t.versionId}})})}),$n=Object.freeze(Object.defineProperty({__proto__:null,load:tn},Symbol.toStringTag,{value:"Module"})),Ie="src/lib/components/versions/VersionDescription.svelte";function et(t){let e,r,n;r=new St({props:{importance:kt.Warning,message:"This version has not yet been approved by the virus scanner and is hidden until this process is complete. If this message isn't gone in the next few minutes, ask for manual approval on the Discord."},$$inline:!0});const a={c:function(){e=g("div"),Ee(r.$$.fragment),this.h()},l:function(l){e=v(l,"DIV",{class:!0});var i=b(e);ye(r.$$.fragment,i),i.forEach(p),this.h()},h:function(){E(e,"class","p-4"),$(e,Ie,11,4,276)},m:function(l,i){j(l,e,i),ke(r,e,null),n=!0},i:function(l){n||(Y(r.$$.fragment,l),n=!0)},o:function(l){ne(r.$$.fragment,l),n=!1},d:function(l){l&&p(e),Se(r)}};return M("SvelteRegisterBlock",{block:a,id:et.name,type:"if",source:"(9:2) {#if !approved}",ctx:t}),a}function Rt(t){const e={c:T,l:T,m:T,p:T,d:T};return M("SvelteRegisterBlock",{block:e,id:Rt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { AnnouncementImportance }',ctx:t}),e}function Ct(t){let e,r,n=t[2]+"";const a={c:function(){e=g("p"),r=new Ht(!1),this.h()},l:function(l){e=v(l,"P",{});var i=b(e);r=Ft(i,!1),i.forEach(p),this.h()},h:function(){r.a=null,$(e,Ie,22,10,805)},m:function(l,i){j(l,e,i),r.m(n,e)},p:function(l,i){i&1&&n!==(n=l[2]+"")&&r.p(n)},d:function(l){l&&p(e)}};return M("SvelteRegisterBlock",{block:a,id:Ct.name,type:"then",source:"(19:59)            <!-- eslint-disable -->           <p>{@html changelogRendered}",ctx:t}),a}function _t(t){const e={c:T,l:T,m:T,p:T,d:T};return M("SvelteRegisterBlock",{block:e,id:_t.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { AnnouncementImportance }',ctx:t}),e}function tt(t){let e,r,n,a,o,l,i,s=!t[1]&&et(t),u={ctx:t,current:null,token:null,hasCatch:!1,pending:_t,then:Ct,catch:Rt,value:2};pt(l=Je(t[0]),u);const m={c:function(){e=g("div"),s&&s.c(),r=P(),n=g("div"),a=g("section"),o=g("div"),u.block.c(),this.h()},l:function(w){e=v(w,"DIV",{});var f=b(e);s&&s.l(f),r=N(f),n=v(f,"DIV",{class:!0});var d=b(n);a=v(d,"SECTION",{});var S=b(a);o=v(S,"DIV",{class:!0});var I=b(o);u.block.l(I),I.forEach(p),S.forEach(p),d.forEach(p),f.forEach(p),this.h()},h:function(){E(o,"class","markdown-content break-words"),$(o,Ie,19,6,658),$(a,Ie,18,4,642),E(n,"class","card h-fit p-4"),$(n,Ie,17,2,609),$(e,Ie,9,0,248)},m:function(w,f){j(w,e,f),s&&s.m(e,null),c(e,r),c(e,n),c(n,a),c(a,o),u.block.m(o,u.anchor=null),u.mount=()=>o,u.anchor=null,i=!0},p:function(w,[f]){t=w,t[1]?s&&(Fe(),ne(s,1,1,()=>{s=null}),Le()):s?f&2&&Y(s,1):(s=et(t),s.c(),Y(s,1),s.m(e,r)),u.ctx=t,f&1&&l!==(l=Je(t[0]))&&pt(l,u)||Gt(u,t,f)},i:function(w){i||(Y(s),i=!0)},o:function(w){ne(s),i=!1},d:function(w){w&&p(e),s&&s.d(),u.block.d(),u.token=null,u=null}};return M("SvelteRegisterBlock",{block:m,id:tt.name,type:"component",source:"",ctx:t}),m}function nn(t,e,r){let{$$slots:n={},$$scope:a}=e;ft("VersionDescription",n,[]);let{changelog:o}=e,{approved:l}=e;t.$$.on_mount.push(function(){o===void 0&&!("changelog"in e||t.$$.bound[t.$$.props.changelog])&&console.warn("<VersionDescription> was created without expected prop 'changelog'"),l===void 0&&!("approved"in e||t.$$.bound[t.$$.props.approved])&&console.warn("<VersionDescription> was created without expected prop 'approved'")});const i=["changelog","approved"];return Object.keys(e).forEach(s=>{!~i.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<VersionDescription> was created with unknown prop '${s}'`)}),t.$$set=s=>{"changelog"in s&&r(0,o=s.changelog),"approved"in s&&r(1,l=s.approved)},t.$capture_state=()=>({AnnouncementImportance:kt,markdown:Je,AnnouncementRow:St,changelog:o,approved:l}),t.$inject_state=s=>{"changelog"in s&&r(0,o=s.changelog),"approved"in s&&r(1,l=s.approved)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,l]}class At extends it{constructor(e){super(e),ct(this,e,nn,tt,lt,{changelog:0,approved:1}),M("SvelteRegisterComponent",{component:this,tagName:"VersionDescription",options:e,id:tt.name})}get changelog(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set changelog(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get approved(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set approved(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const U="src/lib/components/versions/VersionInfo.svelte";function nt(t){let e,r,n,a,o="Info",l,i,s,u=t[2]("entry.created-at")+"",m,h,w,f=Xe(t[0].created_at)+"",d,S,I,x,_,k=t[2]("downloads")+"",A,V,ce,de=Ye(t[0].downloads)+"",oe,we,Ve,z,H,pe=t[2]("game-versions")+"",F,re,be,Z=t[0].game_version+"",he,te,le,se,fe,B=t[2]("size")+"",xe,me,W,ge=Ze(t[0].size)+"",K,y,O,q,J,G=t[2]("hash")+"",ae,ve,$e,ie=t[0].hash+"",Ne;const ut={c:function(){e=g("div"),r=g("section"),n=g("div"),a=g("h3"),a.textContent=o,l=P(),i=g("span"),s=g("strong"),m=R(u),h=R(":"),w=P(),d=R(f),S=g("br"),I=P(),x=g("span"),_=g("strong"),A=R(k),V=R(":"),ce=P(),oe=R(de),we=g("br"),Ve=P(),z=g("span"),H=g("strong"),F=R(pe),re=R(":"),be=P(),he=R(Z),te=g("br"),le=P(),se=g("span"),fe=g("strong"),xe=R(B),me=R(":"),W=P(),K=R(ge),y=g("br"),O=P(),q=g("span"),J=g("strong"),ae=R(G),ve=R(":"),$e=P(),Ne=R(ie),this.h()},l:function(L){e=v(L,"DIV",{class:!0});var X=b(e);r=v(X,"SECTION",{});var dt=b(r);n=v(dt,"DIV",{class:!0});var Q=b(n);a=v(Q,"H3",{class:!0,"data-svelte-h":!0}),ue(a)!=="svelte-1p1x4o5"&&(a.textContent=o),l=N(Q),i=v(Q,"SPAN",{});var Re=b(i);s=v(Re,"STRONG",{});var je=b(s);m=C(je,u),h=C(je,":"),je.forEach(p),w=N(Re),d=C(Re,f),Re.forEach(p),S=v(Q,"BR",{}),I=N(Q),x=v(Q,"SPAN",{});var Ce=b(x);_=v(Ce,"STRONG",{});var Me=b(_);A=C(Me,k),V=C(Me,":"),Me.forEach(p),ce=N(Ce),oe=C(Ce,de),Ce.forEach(p),we=v(Q,"BR",{}),Ve=N(Q),z=v(Q,"SPAN",{});var _e=b(z);H=v(_e,"STRONG",{});var ze=b(H);F=C(ze,pe),re=C(ze,":"),ze.forEach(p),be=N(_e),he=C(_e,Z),_e.forEach(p),te=v(Q,"BR",{}),le=N(Q),se=v(Q,"SPAN",{});var Ae=b(se);fe=v(Ae,"STRONG",{});var Ue=b(fe);xe=C(Ue,B),me=C(Ue,":"),Ue.forEach(p),W=N(Ae),K=C(Ae,ge),Ae.forEach(p),y=v(Q,"BR",{}),O=N(Q),q=v(Q,"SPAN",{});var Be=b(q);J=v(Be,"STRONG",{});var qe=b(J);ae=C(qe,G),ve=C(qe,":"),qe.forEach(p),$e=N(Be),Ne=C(Be,ie),Be.forEach(p),Q.forEach(p),dt.forEach(p),X.forEach(p),this.h()},h:function(){E(a,"class","my-4 text-2xl font-bold"),$(a,U,13,6,291),$(s,U,14,12,349),$(i,U,14,6,343),$(S,U,14,94,431),$(_,U,15,12,450),$(x,U,15,6,444),$(we,U,15,88,526),$(H,U,16,12,545),$(z,U,16,6,539),$(te,U,16,81,614),$(fe,U,17,12,633),$(se,U,17,6,627),$(y,U,17,77,698),$(J,U,18,12,717),$(q,U,18,6,711),E(n,"class","break-words text-lg"),$(n,U,12,4,251),$(r,U,11,2,237),E(e,"class","card p-4"),$(e,U,10,0,212)},m:function(L,X){j(L,e,X),c(e,r),c(r,n),c(n,a),c(n,l),c(n,i),c(i,s),c(s,m),c(s,h),c(i,w),c(i,d),c(n,S),c(n,I),c(n,x),c(x,_),c(_,A),c(_,V),c(x,ce),c(x,oe),c(n,we),c(n,Ve),c(n,z),c(z,H),c(H,F),c(H,re),c(z,be),c(z,he),c(n,te),c(n,le),c(n,se),c(se,fe),c(fe,xe),c(fe,me),c(se,W),c(se,K),c(n,y),c(n,O),c(n,q),c(q,J),c(J,ae),c(J,ve),c(q,$e),c(q,Ne)},p:function(L,[X]){X&4&&u!==(u=L[2]("entry.created-at")+"")&&ee(m,u),X&1&&f!==(f=Xe(L[0].created_at)+"")&&ee(d,f),X&4&&k!==(k=L[2]("downloads")+"")&&ee(A,k),X&1&&de!==(de=Ye(L[0].downloads)+"")&&ee(oe,de),X&4&&pe!==(pe=L[2]("game-versions")+"")&&ee(F,pe),X&1&&Z!==(Z=L[0].game_version+"")&&ee(he,Z),X&4&&B!==(B=L[2]("size")+"")&&ee(xe,B),X&1&&ge!==(ge=Ze(L[0].size)+"")&&ee(K,ge),X&4&&G!==(G=L[2]("hash")+"")&&ee(ae,G),X&1&&ie!==(ie=L[0].hash+"")&&ee(Ne,ie)},i:T,o:T,d:function(L){L&&p(e)}};return M("SvelteRegisterBlock",{block:ut,id:nt.name,type:"component",source:"",ctx:t}),ut}function on(t,e,r){let n,a=T,o=()=>(a(),a=Lt(u,h=>r(2,n=h)),u);t.$$.on_destroy.push(()=>a());let{$$slots:l={},$$scope:i}=e;ft("VersionInfo",l,[]);let{version:s}=e;const{t:u}=ht();Qe(u,"t"),o(),t.$$.on_mount.push(function(){s===void 0&&!("version"in e||t.$$.bound[t.$$.props.version])&&console.warn("<VersionInfo> was created without expected prop 'version'")});const m=["version"];return Object.keys(e).forEach(h=>{!~m.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<VersionInfo> was created with unknown prop '${h}'`)}),t.$$set=h=>{"version"in h&&r(0,s=h.version)},t.$capture_state=()=>({prettyBytes:Ze,prettyDate:Xe,prettyNumber:Ye,getTranslate:ht,version:s,t:u,$t:n}),t.$inject_state=h=>{"version"in h&&r(0,s=h.version)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s,u,n]}class Bt extends it{constructor(e){super(e),ct(this,e,on,nt,lt,{version:0,t:1}),M("SvelteRegisterComponent",{component:this,tagName:"VersionInfo",options:e,id:nt.name})}get version(){throw new Error("<VersionInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set version(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[1]}set t(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:xt}=Qt,D="src/routes/mod/[modId]/version/[versionId]/+page.svelte";function Et(t,e,r){const n=t.slice();return n[15]=e[r],n}function ot(t){let e,r;e=new It({props:{description:"Information for mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version,title:"Mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version},$$inline:!0});const n={c:function(){Ee(e.$$.fragment)},l:function(o){ye(e.$$.fragment,o)},m:function(o,l){ke(e,o,l),r=!0},p:function(o,l){const i={};l&1&&(i.description="Information for mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),l&1&&(i.title="Mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),e.$set(i)},i:function(o){r||(Y(e.$$.fragment,o),r=!0)},o:function(o){ne(e.$$.fragment,o),r=!1},d:function(o){Se(e,o)}};return M("SvelteRegisterBlock",{block:n,id:ot.name,type:"if",source:"(60:2) {#if !$version.fetching && !$version.error && $version.data.getVersion}",ctx:t}),n}function Tt(t){let e,r;e=new Nt({$$inline:!0});const n={c:function(){Ee(e.$$.fragment)},l:function(o){ye(e.$$.fragment,o)},m:function(o,l){ke(e,o,l),r=!0},p:T,i:function(o){r||(Y(e.$$.fragment,o),r=!0)},o:function(o){ne(e.$$.fragment,o),r=!1},d:function(o){Se(e,o)}};return M("SvelteRegisterBlock",{block:n,id:Tt.name,type:"else",source:"(158:0) {:else}",ctx:t}),n}function Ot(t){let e,r,n,a=t[0].data.getVersion.mod.name+"",o,l,i=t[0].data.getVersion.version+"",s,u,m,h,w,f,d,S="download",I,x,_="Install",k,A,V,ce="extension",de,oe,we="Back to Mod",Ve,z,H,pe,F,re,be,Z,he,te,le,se,fe,B=t[1]&&rt(t);function xe(K,y){return K[0].data.getVersion.targets.length!=0?Ut:zt}let me=xe(t),W=me(t);H=new At({props:{changelog:t[0].data.getVersion.changelog,approved:t[0].data.getVersion.approved},$$inline:!0}),re=new Bt({props:{version:t[0].data.getVersion},$$inline:!0}),Z=new Dt({props:{targets:t[0].data.getVersion.targets},$$inline:!0}),te=new Pt({props:{dependencies:t[0].data.getVersion.dependencies},$$inline:!0});const ge={c:function(){e=g("div"),r=g("div"),n=g("h1"),o=R(a),l=R(`
        Version `),s=R(i),u=P(),m=g("div"),B&&B.c(),h=P(),W.c(),w=P(),f=g("button"),d=g("span"),d.textContent=S,I=P(),x=g("span"),x.textContent=_,k=P(),A=g("a"),V=g("span"),V.textContent=ce,de=P(),oe=g("span"),oe.textContent=we,Ve=P(),z=g("div"),Ee(H.$$.fragment),pe=P(),F=g("div"),Ee(re.$$.fragment),be=P(),Ee(Z.$$.fragment),he=P(),Ee(te.$$.fragment),this.h()},l:function(y){e=v(y,"DIV",{class:!0});var O=b(e);r=v(O,"DIV",{class:!0});var q=b(r);n=v(q,"H1",{class:!0});var J=b(n);o=C(J,a),l=C(J,`
        Version `),s=C(J,i),J.forEach(p),u=N(q),m=v(q,"DIV",{class:!0});var G=b(m);B&&B.l(G),h=N(G),W.l(G),w=N(G),f=v(G,"BUTTON",{class:!0,title:!0});var ae=b(f);d=v(ae,"SPAN",{class:!0,"data-svelte-h":!0}),ue(d)!=="svelte-rqt9z7"&&(d.textContent=S),I=N(ae),x=v(ae,"SPAN",{"data-svelte-h":!0}),ue(x)!=="svelte-1bbhnfr"&&(x.textContent=_),ae.forEach(p),k=N(G),A=v(G,"A",{class:!0,href:!0,title:!0});var ve=b(A);V=v(ve,"SPAN",{class:!0,"data-svelte-h":!0}),ue(V)!=="svelte-y4psqu"&&(V.textContent=ce),de=N(ve),oe=v(ve,"SPAN",{"data-svelte-h":!0}),ue(oe)!=="svelte-1tvol36"&&(oe.textContent=we),ve.forEach(p),G.forEach(p),q.forEach(p),Ve=N(O),z=v(O,"DIV",{class:!0});var $e=b(z);ye(H.$$.fragment,$e),pe=N($e),F=v($e,"DIV",{class:!0});var ie=b(F);ye(re.$$.fragment,ie),be=N(ie),ye(Z.$$.fragment,ie),he=N(ie),ye(te.$$.fragment,ie),ie.forEach(p),$e.forEach(p),O.forEach(p),this.h()},h:function(){E(n,"class","text-4xl font-bold"),$(n,D,82,6,2821),E(d,"class","material-icons"),$(d,D,145,10,5311),$(x,D,146,10,5366),E(f,"class","variant-ghost-primary btn"),E(f,"title","Install via Satisfactory Mod Manager"),$(f,D,141,8,5111),E(V,"class","material-icons"),$(V,D,152,10,5568),$(oe,D,153,10,5624),E(A,"class","variant-ghost-primary btn"),E(A,"href",Pe+"/mod/"+t[2]),E(A,"title","View the description page for this mod"),$(A,D,148,8,5413),E(m,"class","grid grid-flow-col gap-4"),$(m,D,87,6,2967),E(r,"class","flex h-auto flex-wrap items-center justify-between"),$(r,D,81,4,2750),E(F,"class","grid auto-rows-min grid-cols-1 gap-8"),$(F,D,159,6,5869),E(z,"class","grid-auto-max grid auto-cols-fr gap-4"),$(z,D,157,4,5690),E(e,"class","grid gap-6 xlx:grid-flow-row"),$(e,D,80,2,2703)},m:function(y,O){j(y,e,O),c(e,r),c(r,n),c(n,o),c(n,l),c(n,s),c(r,u),c(r,m),B&&B.m(m,null),c(m,h),W.m(m,null),c(m,w),c(m,f),c(f,d),c(f,I),c(f,x),c(m,k),c(m,A),c(A,V),c(A,de),c(A,oe),c(e,Ve),c(e,z),ke(H,z,null),c(z,pe),c(z,F),ke(re,F,null),c(F,be),ke(Z,F,null),c(F,he),ke(te,F,null),le=!0,se||(fe=We(f,"click",t[11],!1,!1,!1,!1),se=!0)},p:function(y,O){(!le||O&1)&&a!==(a=y[0].data.getVersion.mod.name+"")&&ee(o,a),(!le||O&1)&&i!==(i=y[0].data.getVersion.version+"")&&ee(s,i),y[1]?B?B.p(y,O):(B=rt(y),B.c(),B.m(m,h)):B&&(B.d(1),B=null),me===(me=xe(y))&&W?W.p(y,O):(W.d(1),W=me(y),W&&(W.c(),W.m(m,w)));const q={};O&1&&(q.changelog=y[0].data.getVersion.changelog),O&1&&(q.approved=y[0].data.getVersion.approved),H.$set(q);const J={};O&1&&(J.version=y[0].data.getVersion),re.$set(J);const G={};O&1&&(G.targets=y[0].data.getVersion.targets),Z.$set(G);const ae={};O&1&&(ae.dependencies=y[0].data.getVersion.dependencies),te.$set(ae)},i:function(y){le||(Y(H.$$.fragment,y),Y(re.$$.fragment,y),Y(Z.$$.fragment,y),Y(te.$$.fragment,y),le=!0)},o:function(y){ne(H.$$.fragment,y),ne(re.$$.fragment,y),ne(Z.$$.fragment,y),ne(te.$$.fragment,y),le=!1},d:function(y){y&&p(e),B&&B.d(),W.d(),Se(H),Se(re),Se(Z),Se(te),se=!1,fe()}};return M("SvelteRegisterBlock",{block:ge,id:Ot.name,type:"if",source:"(71:35) ",ctx:t}),ge}function jt(t){let e,r,n=t[0].error.message+"",a;const o={c:function(){e=g("p"),r=R("Oh no... "),a=R(n),this.h()},l:function(i){e=v(i,"P",{});var s=b(e);r=C(s,"Oh no... "),a=C(s,n),s.forEach(p),this.h()},h:function(){$(e,D,78,2,2624)},m:function(i,s){j(i,e,s),c(e,r),c(e,a)},p:function(i,s){s&1&&n!==(n=i[0].error.message+"")&&ee(a,n)},i:T,o:T,d:function(i){i&&p(e)}};return M("SvelteRegisterBlock",{block:o,id:jt.name,type:"if",source:"(69:25) ",ctx:t}),o}function Mt(t){let e,r="Loading...";const n={c:function(){e=g("p"),e.textContent=r,this.h()},l:function(o){e=v(o,"P",{"data-svelte-h":!0}),ue(e)!=="svelte-qdsr2u"&&(e.textContent=r),this.h()},h:function(){$(e,D,76,2,2578)},m:function(o,l){j(o,e,l)},p:T,i:T,o:T,d:function(o){o&&p(e)}};return M("SvelteRegisterBlock",{block:n,id:Mt.name,type:"if",source:"(67:0) {#if $version.fetching}",ctx:t}),n}function rt(t){let e,r,n="edit_document",a,o,l,i,s="delete",u,m,h;const w={c:function(){e=g("button"),r=g("span"),r.textContent=n,a=R(`
            Edit`),o=P(),l=g("button"),i=g("span"),i.textContent=s,u=R(`
            Delete`),this.h()},l:function(d){e=v(d,"BUTTON",{class:!0});var S=b(e);r=v(S,"SPAN",{class:!0,"data-svelte-h":!0}),ue(r)!=="svelte-1x8b46e"&&(r.textContent=n),a=C(S,`
            Edit`),S.forEach(p),o=N(d),l=v(d,"BUTTON",{class:!0});var I=b(l);i=v(I,"SPAN",{class:!0,"data-svelte-h":!0}),ue(i)!=="svelte-120hsax"&&(i.textContent=s),u=C(I,`
            Delete`),I.forEach(p),this.h()},h:function(){E(r,"class","material-icons pr-2"),$(r,D,92,12,3203),E(e,"class","variant-ghost-primary btn"),$(e,D,89,10,3042),E(i,"class","material-icons pr-2"),$(i,D,96,12,3409),E(l,"class","variant-ghost-primary btn"),$(l,D,95,10,3305)},m:function(d,S){j(d,e,S),c(e,r),c(e,a),j(d,o,S),j(d,l,S),c(l,i),c(l,u),m||(h=[We(e,"click",t[9],!1,!1,!1,!1),We(l,"click",t[10],!1,!1,!1,!1)],m=!0)},p:T,d:function(d){d&&(p(e),p(o),p(l)),m=!1,Jt(h)}};return M("SvelteRegisterBlock",{block:w,id:rt.name,type:"if",source:"(80:8) {#if canUserEdit}",ctx:t}),w}function zt(t){let e,r,n,a,o;const l={c:function(){e=g("a"),r=R("View"),n=P(),a=g("a"),o=R("Download"),this.h()},l:function(s){e=v(s,"A",{class:!0,href:!0});var u=b(e);r=C(u,"View"),u.forEach(p),n=N(s),a=v(s,"A",{class:!0,href:!0});var m=b(a);o=C(m,"Download"),m.forEach(p),this.h()},h:function(){E(e,"class","variant-ghost-primary btn"),E(e,"href",Pe+"/mod/"+t[2]+"/version/"+t[3]),$(e,D,136,10,4828),E(a,"class","variant-ghost-primary btn"),E(a,"href",Oe+"/mod/"+t[2]+"/versions/"+t[3]+"/download"),$(a,D,137,10,4940)},m:function(s,u){j(s,e,u),c(e,r),j(s,n,u),j(s,a,u),c(a,o)},p:T,d:function(s){s&&(p(e),p(n),p(a))}};return M("SvelteRegisterBlock",{block:l,id:zt.name,type:"else",source:"(127:8) {:else}",ctx:t}),l}function Ut(t){let e,r,n="Download...",a,o,l="arrow_drop_down",i,s,u,m,h,w,f=wt(t[0].data.getVersion.targets),d=[];for(let I=0;I<f.length;I+=1)d[I]=st(Et(t,f,I));const S={c:function(){e=g("button"),r=g("span"),r.textContent=n,a=P(),o=g("span"),o.textContent=l,i=P(),s=g("div"),u=g("nav"),m=g("ul");for(let x=0;x<d.length;x+=1)d[x].c();this.h()},l:function(x){e=v(x,"BUTTON",{class:!0,title:!0});var _=b(e);r=v(_,"SPAN",{"data-svelte-h":!0}),ue(r)!=="svelte-ejqs88"&&(r.textContent=n),a=N(_),o=v(_,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),ue(o)!=="svelte-dpxqae"&&(o.textContent=l),_.forEach(p),i=N(x),s=v(x,"DIV",{class:!0,"data-popup":!0});var k=b(s);u=v(k,"NAV",{class:!0});var A=b(u);m=v(A,"UL",{});var V=b(m);for(let ce=0;ce<d.length;ce+=1)d[ce].l(V);V.forEach(p),A.forEach(p),k.forEach(p),this.h()},h:function(){$(r,D,109,12,3888),E(o,"class","material-icons"),Xt(o,"margin","0"),$(o,D,110,12,3925),E(e,"class","variant-ghost-primary btn"),E(e,"title","Download a specific release target of this mod"),$(e,D,100,10,3568),$(m,D,115,14,4148),E(u,"class","list-nav"),$(u,D,114,12,4111),E(s,"class","card z-10 w-72 shadow-xl"),E(s,"data-popup","versionArchDropdown"),$(s,D,113,10,4027)},m:function(x,_){j(x,e,_),c(e,r),c(e,a),c(e,o),j(x,i,_),j(x,s,_),c(s,u),c(u,m);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m(m,null);h||(w=Yt(yt.call(null,e,{event:"focus-click",target:"versionArchDropdown",placement:"bottom",closeQuery:"a"})),h=!0)},p:function(x,_){if(_&13){f=wt(x[0].data.getVersion.targets);let k;for(k=0;k<f.length;k+=1){const A=Et(x,f,k);d[k]?d[k].p(A,_):(d[k]=st(A),d[k].c(),d[k].m(m,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=f.length}},d:function(x){x&&(p(e),p(i),p(s)),Zt(d,x),h=!1,w()}};return M("SvelteRegisterBlock",{block:S,id:Ut.name,type:"if",source:"(91:8) {#if $version.data.getVersion.targets.length != 0}",ctx:t}),S}function st(t){let e,r,n,a,o=Ke(t[15].targetName)+"",l,i,s;const u={c:function(){e=g("li"),r=g("a"),n=g("span"),a=R("Download "),l=R(o),s=P(),this.h()},l:function(h){e=v(h,"LI",{});var w=b(e);r=v(w,"A",{class:!0,href:!0});var f=b(r);n=v(f,"SPAN",{});var d=b(n);a=C(d,"Download "),l=C(d,o),d.forEach(p),f.forEach(p),s=N(w),w.forEach(p),this.h()},h:function(){$(n,D,128,22,4617),E(r,"class","w-full"),E(r,"href",i=Oe+"/mod/"+t[2]+"/versions/"+t[3]+"/"+t[15].targetName+"/download"),$(r,D,118,20,4263),$(e,D,117,18,4238)},m:function(h,w){j(h,e,w),c(e,r),c(r,n),c(n,a),c(n,l),c(e,s)},p:function(h,w){w&1&&o!==(o=Ke(h[15].targetName)+"")&&ee(l,o),w&1&&i!==(i=Oe+"/mod/"+h[2]+"/versions/"+h[3]+"/"+h[15].targetName+"/download")&&E(r,"href",i)},d:function(h){h&&p(e)}};return M("SvelteRegisterBlock",{block:u,id:st.name,type:"each",source:"(108:16) {#each $version.data.getVersion.targets as target}",ctx:t}),u}function at(t){let e,r,n,a,o,l,i=!t[0].fetching&&!t[0].error&&t[0].data.getVersion&&ot(t);const s=[Mt,jt,Ot,Tt],u=[];function m(w,f){return w[0].fetching?0:w[0].error?1:w[0].data.getVersion?2:3}n=m(t),a=u[n]=s[n](t);const h={c:function(){i&&i.c(),e=Te(),r=P(),a.c(),o=Te()},l:function(f){const d=Wt("svelte-7zfw29",document.head);i&&i.l(d),e=Te(),d.forEach(p),r=N(f),a.l(f),o=Te()},m:function(f,d){i&&i.m(document.head,null),c(document.head,e),j(f,r,d),u[n].m(f,d),j(f,o,d),l=!0},p:function(f,[d]){!f[0].fetching&&!f[0].error&&f[0].data.getVersion?i?(i.p(f,d),d&1&&Y(i,1)):(i=ot(f),i.c(),Y(i,1),i.m(e.parentNode,e)):i&&(Fe(),ne(i,1,1,()=>{i=null}),Le());let S=n;n=m(f),n===S?u[n].p(f,d):(Fe(),ne(u[S],1,1,()=>{u[S]=null}),Le(),a=u[n],a?a.p(f,d):(a=u[n]=s[n](f),a.c()),Y(a,1),a.m(o.parentNode,o))},i:function(f){l||(Y(i),Y(a),l=!0)},o:function(f){ne(i),ne(a),l=!1},d:function(f){f&&(p(r),p(o)),i&&i.d(f),p(e),u[n].d(f)}};return M("SvelteRegisterBlock",{block:h,id:at.name,type:"component",source:"",ctx:t}),h}function rn(t,e,r){let n,a,o;Qe(He,"user"),mt(t,He,V=>r(8,a=V));let{$$slots:l={},$$scope:i}=e;ft("Page",l,[]);let{data:s}=e;const{modId:u,versionId:m,version:h}=s;Qe(h,"version"),mt(t,h,V=>r(0,o=V));const w=gt(),f=vt(),d=()=>{w.mutation(Vt,{versionId:m}).toPromise().then(V=>{V.error?(console.error(V.error.message),f.trigger({message:"Error deleting version: "+V.error.message,background:"variant-filled-error",autohide:!1})):(f.trigger({message:"Version deleted",background:"variant-filled-success",timeout:5e3}),Ge(Pe+"/mod/"+u))})},S={type:"confirm",title:"Delete Version?",body:"Are you sure you wish to delete this version?",response:V=>{V&&d()}},I=$t();t.$$.on_mount.push(function(){s===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&xt.warn("<Page> was created without expected prop 'data'")});const x=["data"];Object.keys(e).forEach(V=>{!~x.indexOf(V)&&V.slice(0,2)!=="$$"&&V!=="slot"&&xt.warn(`<Page> was created with unknown prop '${V}'`)});const _=()=>Ge(Pe+"/mod/"+u+"/version/"+m+"/edit"),k=()=>I.trigger(S),A=()=>bt(o.data.getVersion.mod.mod_reference);return t.$$set=V=>{"data"in V&&r(7,s=V.data)},t.$capture_state=()=>({DeleteVersionDocument:Vt,VersionDescription:At,VersionInfo:Bt,MetaDescriptors:It,API_REST:Oe,goto:Ge,user:He,base:Pe,installMod:bt,prettyTarget:Ke,VersionTargetSupportGrid:Dt,VersionDependenciesGrid:Pt,getContextClient:gt,getModalStore:$t,getToastStore:vt,popup:yt,Page404:Nt,data:s,modId:u,versionId:m,version:h,client:w,toastStore:f,deleteVersionFn:d,deleteModal:S,modalStore:I,canUserEdit:n,$user:a,$version:o}),t.$inject_state=V=>{"data"in V&&r(7,s=V.data),"canUserEdit"in V&&r(1,n=V.canUserEdit)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&257&&r(1,n=a?.roles?.deleteContent||o?.data?.getVersion.mod?.authors?.findIndex(V=>V.user_id==a?.id)>=0)},[o,n,u,m,h,S,I,s,a,_,k,A]}class wn extends it{constructor(e){super(e),ct(this,e,rn,at,lt,{data:7}),M("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:at.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{wn as component,$n as universal};
//# sourceMappingURL=17.Dbrcvgjg.js.map
