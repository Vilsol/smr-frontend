import{S as $t,i as wt,s as yt,d as C,a6 as Oe,v as St,aa as Ge,H as Se,I as De,w as qe,O as be,e as b,b as B,X as E,P as tt,g as $,h as k,k as T,Y as R,j as v,Q as nt,m as w,N as F,n as M,U as a,$ as Ce,T as st,V as Vt,ad as kt,r as ue,p as xt,t as ve,q as Et,Z as A,a7 as Rt,aA as Pt,W as it,a0 as Nt,u as ee,x as Bt,f as We,R as $e,_ as ot,a8 as Tt,a9 as jt}from"./vendor.C6zUIJNJ.js";import{o as Ft,a as It,b as At,e as ze,s as Ue,V as je,c as Le,v as _e,r as Je}from"./forms.B0k5ozuR.js";import{J as Mt}from"./jszip.DpdQ09ig.js";import{v as Ot}from"./uplugin.DJGzpVl9.js";import{T as Xe,V as He}from"./graphql.CNu7qPRc.js";import{t as Ye}from"./forms.CL_Uqidh.js";import{m as Ve}from"./markdown.DG-CT3Kt.js";import{b as ke}from"./formatting.DRqZGGFY.js";const Gt=Object.keys(Xe).map(n=>Xe[n]).filter(n=>typeof n=="string"),Ze=async(n,e)=>{const t=await Ot(n);if(t.length!=0)return{message:`invalid ${e}.uplugin`,extended:t};const s=JSON.parse(n),l=s.Plugins?.some(i=>i.Name==="SML"),o=!!s.GameVersion;return!l&&!o?{message:`either GameVersion or SML dependency must be present in ${e}.uplugin`}:s};function Dt(n){const e=n.split("/");return e[e.length-1]}function qt(n){const e=n.split("/");return e.slice(0,e.length-1).join("/")}const Ct=async(n,e)=>new Mt().loadAsync(n).then(async s=>{const l=s.filter(u=>Dt(u)==e+".uplugin");if(l.length===0)return{message:"Mod does not contain any "+e+".uplugin files"};if(l.length===1&&l[0].name===e+".uplugin"){const u=await Ze(await l[0].async("string"),e);return"message"in u?u:{uplugin:u,objects:Object.keys(s.files).filter(m=>m.endsWith(".so")||m.endsWith(".dll")||m.endsWith(".pak")),targets:["Windows"]}}if(l.some(u=>u.name===e+".uplugin"))return{message:"Mod contains "+e+".uplugin files in the root directory. New uploads must use the multi-target format. Read more on the docs: https://docs.ficsit.app/satisfactory-modding/latest/Development/UpdatingToDedi.html"};const o=l.map(u=>qt(u.name)),i=o.filter(u=>!Gt.includes(u));if(i.length!==0)return{message:`invalid target(s): ${i.join(", ")}`};const r=s.filter(u=>!o.some(m=>u.startsWith(m+"/")));if(r.length!==0)return{message:`file(s) outside target directories: ${r.map(u=>u.name).join(", ")}`};const h=await Promise.all(l.map(u=>u.async("string").catch(m=>{throw new Error(`invalid ${e}.uplugin: ${m}`)})));if(!h.every(u=>u===h[0]))return{message:"Mod contains "+e+".uplugin files with different contents"};const c=await Ze(h[0],e);return"message"in c?c:{uplugin:c,objects:Object.keys(s.files).filter(u=>u.endsWith(".so")||u.endsWith(".dll")||u.endsWith(".pak")),targets:o}}).catch(s=>({message:"invalid zip/smod file: "+s})),Ke=(n,e)=>Ft({file:It(At().superRefine(async(t,s)=>{if(!("name"in t&&"size"in t&&"type"in t)){s.addIssue({message:"Unknown file error",code:ze.custom});return}const l=await Ct(t,n);if("message"in l){s.addIssue({message:l.message,code:ze.custom});return}e.set(l)})),changelog:Ue(),stability:Ue()}),y="src/lib/components/versions/VersionForm.svelte";function Qe(n,e,t){const s=n.slice();return s[20]=e[t],s}function et(n,e,t){const s=n.slice();return s[23]=e[t],s}function xe(n){let e,t,s=n[9]("file")+"",l,o,i,r,h,c,u,m,p,d;c=new je({props:{for:"file",$$slots:{default:[rt,({messages:N})=>({19:N}),({messages:N})=>N?524288:0]},$$scope:{ctx:n}},$$inline:!0});let f=n[5].file&&Ee(n),S=n[4]&&Re(n);const P={c:function(){e=b("div"),t=b("label"),l=E(s),o=E(" *"),i=B(),r=b("input"),h=B(),tt(c.$$.fragment),u=B(),f&&f.c(),m=B(),S&&S.c(),p=We(),this.h()},l:function(V){e=$(V,"DIV",{class:!0});var x=k(e);t=$(x,"LABEL",{for:!0});var O=k(t);l=R(O,s),o=R(O," *"),O.forEach(v),i=T(x),r=$(x,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),h=T(x),nt(c.$$.fragment,x),x.forEach(v),u=T(V),f&&f.l(V),m=T(V),S&&S.l(V),p=We(),this.h()},h:function(){F(t,"for","file"),w(t,y,48,8,1465),F(r,"id","file"),F(r,"class","base-input"),F(r,"name","file"),F(r,"type","file"),F(r,"accept",".zip,.smod"),F(r,"placeholder","File"),w(r,y,49,8,1514),F(e,"class","grid grid-flow-row gap-2"),w(e,y,47,6,1418)},m:function(V,x){M(V,e,x),a(e,t),a(t,l),a(t,o),a(e,i),a(e,r),a(e,h),st(c,e,null),M(V,u,x),f&&f.m(V,x),M(V,m,x),S&&S.m(V,x),M(V,p,x),d=!0},p:function(V,x){(!d||x&512)&&s!==(s=V[9]("file")+"")&&A(l,s);const O={};x&67633152&&(O.$$scope={dirty:x,ctx:V}),c.$set(O),V[5].file?f?f.p(V,x):(f=Ee(V),f.c(),f.m(m.parentNode,m)):f&&(f.d(1),f=null),V[4]?S?S.p(V,x):(S=Re(V),S.c(),S.m(p.parentNode,p)):S&&(S.d(1),S=null)},i:function(V){d||(ue(c.$$.fragment,V),d=!0)},o:function(V){ve(c.$$.fragment,V),d=!1},d:function(V){V&&(v(e),v(u),v(m),v(p)),it(c),f&&f.d(V),S&&S.d(V)}};return C("SvelteRegisterBlock",{block:P,id:xe.name,type:"if",source:"(38:4) {#if !editing}",ctx:n}),P}function rt(n){let e,t=(n[19]||"")+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(i){e=$(i,"SPAN",{class:!0});var r=k(e);s=R(r,t),r.forEach(v),this.h()},h:function(){F(e,"class","validation-message"),w(e,y,51,10,1688)},m:function(i,r){M(i,e,r),a(e,s)},p:function(i,r){r&524288&&t!==(t=(i[19]||"")+"")&&A(s,t)},d:function(i){i&&v(e)}};return C("SvelteRegisterBlock",{block:l,id:rt.name,type:"slot",source:'(42:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),l}function Ee(n){let e,t,s,l=n[9]("file-type")+"",o,i,r,h=(n[5].file.type||"Unknown")+"",c,u,m,p,d,f=n[9]("file-size")+"",S,P,N,V=ke(n[5].file.size)+"",x;const O={c:function(){e=b("div"),t=b("span"),s=b("strong"),o=E(l),i=E(":"),r=B(),c=E(h),u=b("br"),m=B(),p=b("span"),d=b("strong"),S=E(f),P=E(":"),N=B(),x=E(V),this.h()},l:function(G){e=$(G,"DIV",{});var I=k(e);t=$(I,"SPAN",{});var W=k(t);s=$(W,"STRONG",{});var Y=k(s);o=R(Y,l),i=R(Y,":"),Y.forEach(v),r=T(W),c=R(W,h),W.forEach(v),u=$(I,"BR",{}),m=T(I),p=$(I,"SPAN",{});var g=k(p);d=$(g,"STRONG",{});var oe=k(d);S=R(oe,f),P=R(oe,":"),oe.forEach(v),N=T(g),x=R(g,V),g.forEach(v),I.forEach(v),this.h()},h:function(){w(s,y,57,16,1840),w(t,y,57,10,1834),w(u,y,57,89,1913),w(d,y,58,16,1936),w(p,y,58,10,1930),w(e,y,56,8,1818)},m:function(G,I){M(G,e,I),a(e,t),a(t,s),a(s,o),a(s,i),a(t,r),a(t,c),a(e,u),a(e,m),a(e,p),a(p,d),a(d,S),a(d,P),a(p,N),a(p,x)},p:function(G,I){I&512&&l!==(l=G[9]("file-type")+"")&&A(o,l),I&32&&h!==(h=(G[5].file.type||"Unknown")+"")&&A(c,h),I&512&&f!==(f=G[9]("file-size")+"")&&A(S,f),I&32&&V!==(V=ke(G[5].file.size)+"")&&A(x,V)},d:function(G){G&&v(e)}};return C("SvelteRegisterBlock",{block:O,id:Ee.name,type:"if",source:"(47:6) {#if $data.file}",ctx:n}),O}function Re(n){let e,t,s,l,o=n[9]("version")+"",i,r,h,c=n[4].uplugin.Version+"",u,m,p,d,f,S,P,N="Targets:",V,x=n[4].targets.join(", ")+"",O,_,G,I;function W(z,j){return z[4].uplugin.SemVersion!==void 0?ct:lt}let Y=W(n),g=Y(n);function oe(z,j){return z[4].uplugin.GameVersion!==void 0?ft:at}let K=oe(n),X=K(n),q=n[4].uplugin.Plugins!==void 0&&Pe(n);function ae(z,j){return z[4].objects&&z[4].objects.length>0?dt:pt}let re=ae(n),J=re(n);const Z={c:function(){e=b("div"),t=b("p"),s=b("span"),l=b("strong"),i=E(o),r=E(":"),h=B(),u=E(c),m=b("br"),p=B(),g.c(),d=B(),X.c(),f=B(),S=b("span"),P=b("strong"),P.textContent=N,V=B(),O=E(x),_=b("br"),G=B(),q&&q.c(),I=B(),J.c(),this.h()},l:function(j){e=$(j,"DIV",{});var D=k(e);t=$(D,"P",{class:!0});var te=k(t);s=$(te,"SPAN",{});var H=k(s);l=$(H,"STRONG",{});var ce=k(l);i=R(ce,o),r=R(ce,":"),ce.forEach(v),h=T(H),u=R(H,c),m=$(H,"BR",{}),H.forEach(v),p=T(te),g.l(te),d=T(te),X.l(te),te.forEach(v),f=T(D),S=$(D,"SPAN",{});var le=k(S);P=$(le,"STRONG",{"data-svelte-h":!0}),$e(P)!=="svelte-8zo0qs"&&(P.textContent=N),V=T(le),O=R(le,x),_=$(le,"BR",{}),le.forEach(v),G=T(D),q&&q.l(D),I=T(D),J.l(D),D.forEach(v),this.h()},h:function(){w(l,y,65,18,2118),w(m,y,65,78,2178),w(s,y,65,12,2112),F(t,"class","mb-4"),w(t,y,64,10,2083),w(P,y,85,16,2906),w(_,y,85,71,2961),w(S,y,85,10,2900),w(e,y,63,8,2067)},m:function(j,D){M(j,e,D),a(e,t),a(t,s),a(s,l),a(l,i),a(l,r),a(s,h),a(s,u),a(s,m),a(t,p),g.m(t,null),a(t,d),X.m(t,null),a(e,f),a(e,S),a(S,P),a(S,V),a(S,O),a(S,_),a(e,G),q&&q.m(e,null),a(e,I),J.m(e,null)},p:function(j,D){D&512&&o!==(o=j[9]("version")+"")&&A(i,o),D&16&&c!==(c=j[4].uplugin.Version+"")&&A(u,c),Y===(Y=W(j))&&g?g.p(j,D):(g.d(1),g=Y(j),g&&(g.c(),g.m(t,d))),K===(K=oe(j))&&X?X.p(j,D):(X.d(1),X=K(j),X&&(X.c(),X.m(t,null))),D&16&&x!==(x=j[4].targets.join(", ")+"")&&A(O,x),j[4].uplugin.Plugins!==void 0?q?q.p(j,D):(q=Pe(j),q.c(),q.m(e,I)):q&&(q.d(1),q=null),re===(re=ae(j))&&J?J.p(j,D):(J.d(1),J=re(j),J&&(J.c(),J.m(e,null)))},d:function(j){j&&v(e),g.d(),X.d(),q&&q.d(),J.d()}};return C("SvelteRegisterBlock",{block:Z,id:Re.name,type:"if",source:"(54:6) {#if $modMeta}",ctx:n}),Z}function lt(n){let e,t=n[9]("version-form.missing-sem-version")+"",s,l,o=n[4].uplugin.Version+"",i,r;const h={c:function(){e=b("span"),s=E(t),l=B(),i=E(o),r=E(".0.0"),this.h()},l:function(u){e=$(u,"SPAN",{class:!0});var m=k(e);s=R(m,t),l=T(m),i=R(m,o),r=R(m,".0.0"),m.forEach(v),this.h()},h:function(){F(e,"class","text-yellow-600"),w(e,y,70,14,2379)},m:function(u,m){M(u,e,m),a(e,s),a(e,l),a(e,i),a(e,r)},p:function(u,m){m&512&&t!==(t=u[9]("version-form.missing-sem-version")+"")&&A(s,t),m&16&&o!==(o=u[4].uplugin.Version+"")&&A(i,o)},d:function(u){u&&v(e)}};return C("SvelteRegisterBlock",{block:h,id:lt.name,type:"else",source:"(61:12) {:else}",ctx:n}),h}function ct(n){let e,t,s="SemVersion:",l,o=n[4].uplugin.SemVersion+"",i,r;const h={c:function(){e=b("span"),t=b("strong"),t.textContent=s,l=B(),i=E(o),r=b("br"),this.h()},l:function(u){e=$(u,"SPAN",{});var m=k(e);t=$(m,"STRONG",{"data-svelte-h":!0}),$e(t)!=="svelte-1q9kpdp"&&(t.textContent=s),l=T(m),i=R(m,o),r=$(m,"BR",{}),m.forEach(v),this.h()},h:function(){w(t,y,68,20,2273),w(r,y,68,78,2331),w(e,y,68,14,2267)},m:function(u,m){M(u,e,m),a(e,t),a(e,l),a(e,i),a(e,r)},p:function(u,m){m&16&&o!==(o=u[4].uplugin.SemVersion+"")&&A(i,o)},d:function(u){u&&v(e)}};return C("SvelteRegisterBlock",{block:h,id:ct.name,type:"if",source:"(59:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),h}function at(n){let e,t=n[9]("version-form.missing-game-version")+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(i){e=$(i,"SPAN",{class:!0});var r=k(e);s=R(r,t),r.forEach(v),this.h()},h:function(){F(e,"class","text-yellow-600"),w(e,y,79,14,2745)},m:function(i,r){M(i,e,r),a(e,s)},p:function(i,r){r&512&&t!==(t=i[9]("version-form.missing-game-version")+"")&&A(s,t)},d:function(i){i&&v(e)}};return C("SvelteRegisterBlock",{block:l,id:at.name,type:"else",source:"(70:12) {:else}",ctx:n}),l}function ft(n){let e,t,s="Game version:",l,o=n[4].uplugin.GameVersion+"",i,r;const h={c:function(){e=b("span"),t=b("strong"),t.textContent=s,l=B(),i=E(o),r=b("br"),this.h()},l:function(u){e=$(u,"SPAN",{});var m=k(e);t=$(m,"STRONG",{"data-svelte-h":!0}),$e(t)!=="svelte-182gpem"&&(t.textContent=s),l=T(m),i=R(m,o),r=$(m,"BR",{}),m.forEach(v),this.h()},h:function(){w(t,y,77,20,2636),w(r,y,77,81,2697),w(e,y,77,14,2630)},m:function(u,m){M(u,e,m),a(e,t),a(e,l),a(e,i),a(e,r)},p:function(u,m){m&16&&o!==(o=u[4].uplugin.GameVersion+"")&&A(i,o)},d:function(u){u&&v(e)}};return C("SvelteRegisterBlock",{block:h,id:ft.name,type:"if",source:"(68:12) {#if $modMeta.uplugin.GameVersion !== undefined}",ctx:n}),h}function Pe(n){let e,t,s=n[9]("dependencies")+"",l,o,i,r,h=be(n[7]),c=[];for(let m=0;m<h.length;m+=1)c[m]=Ne(et(n,h,m));const u={c:function(){e=b("p"),t=b("strong"),l=E(s),o=E(":"),i=b("br"),r=B();for(let p=0;p<c.length;p+=1)c[p].c();this.h()},l:function(p){e=$(p,"P",{});var d=k(e);t=$(d,"STRONG",{});var f=k(t);l=R(f,s),o=R(f,":"),f.forEach(v),i=$(d,"BR",{}),r=T(d);for(let S=0;S<c.length;S+=1)c[S].l(d);d.forEach(v),this.h()},h:function(){w(t,y,89,14,3061),w(i,y,89,52,3099),w(e,y,88,12,3043)},m:function(p,d){M(p,e,d),a(e,t),a(t,l),a(t,o),a(e,i),a(e,r);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null)},p:function(p,d){if(d&512&&s!==(s=p[9]("dependencies")+"")&&A(l,s),d&128){h=be(p[7]);let f;for(f=0;f<h.length;f+=1){const S=et(p,h,f);c[f]?c[f].p(S,d):(c[f]=Ne(S),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=h.length}},d:function(p){p&&v(e),ot(c,p)}};return C("SvelteRegisterBlock",{block:u,id:Pe.name,type:"if",source:"(79:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),u}function ut(n){let e,t="*";const s={c:function(){e=b("span"),e.textContent=t,this.h()},l:function(o){e=$(o,"SPAN",{"data-svelte-h":!0}),$e(e)!=="svelte-140b0co"&&(e.textContent=t),this.h()},h:function(){w(e,y,95,18,3349)},m:function(o,i){M(o,e,i)},p:ee,d:function(o){o&&v(e)}};return C("SvelteRegisterBlock",{block:s,id:ut.name,type:"else",source:"(86:16) {:else}",ctx:n}),s}function mt(n){let e,t=n[23].SemVersion+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(i){e=$(i,"SPAN",{});var r=k(e);s=R(r,t),r.forEach(v),this.h()},h:function(){w(e,y,93,18,3270)},m:function(i,r){M(i,e,r),a(e,s)},p:function(i,r){r&128&&t!==(t=i[23].SemVersion+"")&&A(s,t)},d:function(i){i&&v(e)}};return C("SvelteRegisterBlock",{block:l,id:mt.name,type:"if",source:"(84:16) {#if dependency.SemVersion}",ctx:n}),l}function Ne(n){let e,t=n[23].Name+"",s,l,o,i,r;function h(p,d){return p[23].SemVersion?mt:ut}let c=h(n),u=c(n);const m={c:function(){e=b("strong"),s=E(t),l=E(":"),o=B(),u.c(),i=B(),r=b("br"),this.h()},l:function(d){e=$(d,"STRONG",{});var f=k(e);s=R(f,t),l=R(f,":"),f.forEach(v),o=T(d),u.l(d),i=T(d),r=$(d,"BR",{}),this.h()},h:function(){w(e,y,91,16,3171),w(r,y,97,16,3402)},m:function(d,f){M(d,e,f),a(e,s),a(e,l),M(d,o,f),u.m(d,f),M(d,i,f),M(d,r,f)},p:function(d,f){f&128&&t!==(t=d[23].Name+"")&&A(s,t),c===(c=h(d))&&u?u.p(d,f):(u.d(1),u=c(d),u&&(u.c(),u.m(i.parentNode,i)))},d:function(d){d&&(v(e),v(o),v(i),v(r)),u.d(d)}};return C("SvelteRegisterBlock",{block:m,id:Ne.name,type:"each",source:"(82:14) {#each dependencies as dependency}",ctx:n}),m}function pt(n){let e,t,s=n[9]("version-form.missing-sem-version")+"",l;const o={c:function(){e=b("p"),t=b("span"),l=E(s),this.h()},l:function(r){e=$(r,"P",{});var h=k(e);t=$(h,"SPAN",{class:!0});var c=k(t);l=R(c,s),c.forEach(v),h.forEach(v),this.h()},h:function(){F(t,"class","text-yellow-600"),w(t,y,112,14,3796),w(e,y,111,12,3778)},m:function(r,h){M(r,e,h),a(e,t),a(t,l)},p:function(r,h){h&512&&s!==(s=r[9]("version-form.missing-sem-version")+"")&&A(l,s)},d:function(r){r&&v(e)}};return C("SvelteRegisterBlock",{block:o,id:pt.name,type:"else",source:"(102:10) {:else}",ctx:n}),o}function dt(n){let e,t,s=n[9]("objects")+"",l,o,i,r,h=be(n[4].objects),c=[];for(let m=0;m<h.length;m+=1)c[m]=Be(Qe(n,h,m));const u={c:function(){e=b("p"),t=b("strong"),l=E(s),o=E(":"),i=b("br"),r=B();for(let p=0;p<c.length;p+=1)c[p].c();this.h()},l:function(p){e=$(p,"P",{});var d=k(e);t=$(d,"STRONG",{});var f=k(t);l=R(f,s),o=R(f,":"),f.forEach(v),i=$(d,"BR",{}),r=T(d);for(let S=0;S<c.length;S+=1)c[S].l(d);d.forEach(v),this.h()},h:function(){w(t,y,104,14,3559),w(i,y,104,47,3592),w(e,y,103,12,3541)},m:function(p,d){M(p,e,d),a(e,t),a(t,l),a(t,o),a(e,i),a(e,r);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null)},p:function(p,d){if(d&512&&s!==(s=p[9]("objects")+"")&&A(l,s),d&16){h=be(p[4].objects);let f;for(f=0;f<h.length;f+=1){const S=Qe(p,h,f);c[f]?c[f].p(S,d):(c[f]=Be(S),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=h.length}},d:function(p){p&&v(e),ot(c,p)}};return C("SvelteRegisterBlock",{block:u,id:dt.name,type:"if",source:"(94:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),u}function Be(n){let e,t=n[20]+"",s,l,o;const i={c:function(){e=b("span"),s=E(t),l=B(),o=b("br"),this.h()},l:function(h){e=$(h,"SPAN",{});var c=k(e);s=R(c,t),c.forEach(v),l=T(h),o=$(h,"BR",{}),this.h()},h:function(){w(e,y,106,16,3664),w(o,y,107,16,3702)},m:function(h,c){M(h,e,c),a(e,s),M(h,l,c),M(h,o,c)},p:function(h,c){c&16&&t!==(t=h[20]+"")&&A(s,t)},d:function(h){h&&(v(e),v(l),v(o))}};return C("SvelteRegisterBlock",{block:i,id:Be.name,type:"each",source:"(97:14) {#each $modMeta.objects as object}",ctx:n}),i}function ht(n){let e,t=(n[19]||"")+"",s;const l={c:function(){e=b("span"),s=E(t),this.h()},l:function(i){e=$(i,"SPAN",{class:!0});var r=k(e);s=R(r,t),r.forEach(v),this.h()},h:function(){F(e,"class","validation-message"),w(e,y,128,10,4348)},m:function(i,r){M(i,e,r),a(e,s)},p:function(i,r){r&524288&&t!==(t=(i[19]||"")+"")&&A(s,t)},d:function(i){i&&v(e)}};return C("SvelteRegisterBlock",{block:l,id:ht.name,type:"slot",source:'(119:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),l}function gt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return C("SvelteRegisterBlock",{block:e,id:gt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function vt(n){let e,t,s=n[18]+"";const l={c:function(){e=b("div"),t=new Tt(!1),this.h()},l:function(i){e=$(i,"DIV",{class:!0});var r=k(e);t=jt(r,!1),r.forEach(v),this.h()},h:function(){t.a=null,F(e,"class","markdown-content right svelte-1q5q8ki"),w(e,y,135,10,4653)},m:function(i,r){M(i,e,r),t.m(s,e)},p:function(i,r){r&256&&s!==(s=i[18]+"")&&t.p(s)},d:function(i){i&&v(e)}};return C("SvelteRegisterBlock",{block:l,id:vt.name,type:"then",source:'(125:55)            <!-- eslint-disable-next-line -->           <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),l}function bt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return C("SvelteRegisterBlock",{block:e,id:bt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function Te(n){let e,t,s,l,o,i,r,h=n[9]("changelog")+"",c,u,m,p,d,f,S,P,N,V=n[9]("preview")+"",x,O,_,G,I,W,Y=n[9]("version-form.agreement-to")+"",g,oe,K,X=n[9]("content-policy")+"",q,ae,re,J,Z,z,j,D,te,H,ce,le,U=!n[3]&&xe(n);f=new je({props:{for:"changelog",$$slots:{default:[ht,({messages:ne})=>({19:ne}),({messages:ne})=>ne?524288:0]},$$scope:{ctx:n}},$$inline:!0});let Q={ctx:n,current:null,token:null,hasCatch:!1,pending:bt,then:vt,catch:gt,value:18};Oe(G=Ve(n[8]),Q);const Fe={c:function(){e=b("form"),t=b("div"),U&&U.c(),s=B(),l=b("div"),o=b("div"),i=b("label"),r=b("span"),c=E(h),u=E(" *"),m=B(),p=b("textarea"),d=B(),tt(f.$$.fragment),S=B(),P=b("div"),N=b("span"),x=E(V),O=E(":"),_=B(),Q.block.c(),I=B(),W=b("div"),g=E(Y),oe=B(),K=b("a"),q=E(X),ae=E("."),re=B(),J=b("div"),Z=b("button"),z=b("span"),j=E(n[1]),D=B(),te=E(n[2]),this.h()},l:function(se){e=$(se,"FORM",{});var L=k(e);t=$(L,"DIV",{class:!0});var ie=k(t);U&&U.l(ie),s=T(ie),l=$(ie,"DIV",{class:!0});var me=k(l);o=$(me,"DIV",{class:!0});var pe=k(o);i=$(pe,"LABEL",{class:!0});var de=k(i);r=$(de,"SPAN",{});var we=k(r);c=R(we,h),u=R(we," *"),we.forEach(v),m=T(de),p=$(de,"TEXTAREA",{class:!0,rows:!0}),k(p).forEach(v),de.forEach(v),d=T(pe),nt(f.$$.fragment,pe),pe.forEach(v),S=T(me),P=$(me,"DIV",{class:!0});var he=k(P);N=$(he,"SPAN",{});var ye=k(N);x=R(ye,V),O=R(ye,":"),ye.forEach(v),_=T(he),Q.block.l(he),he.forEach(v),me.forEach(v),I=T(ie),W=$(ie,"DIV",{class:!0});var fe=k(W);g=R(fe,Y),oe=T(fe),K=$(fe,"A",{href:!0,class:!0});var Ie=k(K);q=R(Ie,X),Ie.forEach(v),ae=R(fe,"."),fe.forEach(v),re=T(ie),J=$(ie,"DIV",{});var Ae=k(J);Z=$(Ae,"BUTTON",{class:!0,type:!0});var ge=k(Z);z=$(ge,"SPAN",{class:!0});var Me=k(z);j=R(Me,n[1]),Me.forEach(v),D=T(ge),te=R(ge,n[2]),ge.forEach(v),Ae.forEach(v),ie.forEach(v),L.forEach(v),this.h()},h:function(){w(r,y,124,10,4111),F(p,"class","vertical-textarea textarea p-2"),p.required=!0,F(p,"rows",10),w(p,y,125,10,4154),F(i,"class","label"),w(i,y,123,8,4079),F(o,"class","grid grid-flow-row auto-rows-max gap-2"),w(o,y,122,6,4018),w(N,y,132,8,4513),F(P,"class","grid grid-flow-row auto-rows-max gap-2"),w(P,y,131,6,4452),F(l,"class","split grid gap-6 svelte-1q5q8ki"),w(l,y,121,4,3981),F(K,"href","/content-policy"),F(K,"class","svelte-1q5q8ki"),w(K,y,141,40,4830),F(W,"class","text-muted"),w(W,y,140,4,4765),F(z,"class","material-icons pr-2"),w(z,y,146,8,4988),F(Z,"class","variant-ghost-primary btn"),F(Z,"type","submit"),Z.disabled=n[6],w(Z,y,145,6,4912),w(J,y,144,4,4900),F(t,"class","grid grid-flow-row gap-6"),w(t,y,45,2,1354),w(e,y,44,0,1336)},m:function(se,L){M(se,e,L),a(e,t),U&&U.m(t,null),a(t,s),a(t,l),a(l,o),a(o,i),a(i,r),a(r,c),a(r,u),a(i,m),a(i,p),Ce(p,n[5].changelog),a(o,d),st(f,o,null),a(l,S),a(l,P),a(P,N),a(N,x),a(N,O),a(P,_),Q.block.m(P,Q.anchor=null),Q.mount=()=>P,Q.anchor=null,a(t,I),a(t,W),a(W,g),a(W,oe),a(W,K),a(K,q),a(W,ae),a(t,re),a(t,J),a(J,Z),a(Z,z),a(z,j),a(Z,D),a(Z,te),H=!0,ce||(le=[Vt(p,"input",n[16]),kt(n[11].call(null,e))],ce=!0)},p:function(se,[L]){n=se,n[3]?U&&(xt(),ve(U,1,1,()=>{U=null}),Et()):U?(U.p(n,L),L&8&&ue(U,1)):(U=xe(n),U.c(),ue(U,1),U.m(t,s)),(!H||L&512)&&h!==(h=n[9]("changelog")+"")&&A(c,h),L&32&&Ce(p,n[5].changelog);const ie={};L&67633152&&(ie.$$scope={dirty:L,ctx:n}),f.$set(ie),(!H||L&512)&&V!==(V=n[9]("preview")+"")&&A(x,V),Q.ctx=n,L&256&&G!==(G=Ve(n[8]))&&Oe(G,Q)||Rt(Q,n,L),(!H||L&512)&&Y!==(Y=n[9]("version-form.agreement-to")+"")&&A(g,Y),(!H||L&512)&&X!==(X=n[9]("content-policy")+"")&&A(q,X),(!H||L&2)&&A(j,n[1]),(!H||L&4)&&A(te,n[2]),(!H||L&64)&&Pt(Z,"disabled",n[6])},i:function(se){H||(ue(U),ue(f.$$.fragment,se),H=!0)},o:function(se){ve(U),ve(f.$$.fragment,se),H=!1},d:function(se){se&&v(e),U&&U.d(),it(f),Q.block.d(),Q.token=null,Q=null,ce=!1,Nt(le)}};return C("SvelteRegisterBlock",{block:Fe,id:Te.name,type:"component",source:"",ctx:n}),Fe}function Wt(n,e,t){let s,l,o,i,r,h=ee,c=()=>(h(),h=Bt(p,g=>t(9,r=g)),p);n.$$.on_destroy.push(()=>h());let{$$slots:u={},$$scope:m}=e;St("VersionForm",u,[]);const{t:p}=Ge();Se(p,"t"),c();let{modReference:d}=e,{onSubmit:f}=e,{initialValues:S={changelog:"",stability:He.Release}}=e,{submitIcon:P}=e,{submitText:N=r("entry.create")}=e,{editing:V=!1}=e;const x=qe();Se(x,"modMeta"),De(n,x,g=>t(4,o=g));let O=!1;const _=Ke(d,x),{form:G,data:I}=Le({initialValues:S,extend:[_e({schema:_}),Je],onSubmit:g=>{t(6,O=!0),f(Ye(g,_)).then(()=>t(6,O=!1))}});Se(I,"data"),De(n,I,g=>t(5,i=g)),n.$$.on_mount.push(function(){d===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),f===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'"),P===void 0&&!("submitIcon"in e||n.$$.bound[n.$$.props.submitIcon])&&console.warn("<VersionForm> was created without expected prop 'submitIcon'")});const W=["modReference","onSubmit","initialValues","submitIcon","submitText","editing"];Object.keys(e).forEach(g=>{!~W.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${g}'`)});function Y(){i.changelog=this.value,I.set(i)}return n.$$set=g=>{"modReference"in g&&t(13,d=g.modReference),"onSubmit"in g&&t(14,f=g.onSubmit),"initialValues"in g&&t(15,S=g.initialValues),"submitIcon"in g&&t(1,P=g.submitIcon),"submitText"in g&&t(2,N=g.submitText),"editing"in g&&t(3,V=g.editing)},n.$capture_state=()=>({createForm:Le,validator:_e,reporter:Je,ValidationMessage:je,constructVersionSchema:Ke,trimNonSchema:Ye,markdown:Ve,writable:qe,VersionStabilities:He,prettyBytes:ke,getTranslate:Ge,t:p,modReference:d,onSubmit:f,initialValues:S,submitIcon:P,submitText:N,editing:V,modMeta:x,disabled:O,versionSchema:_,form:G,data:I,dependencies:l,preview:s,$modMeta:o,$data:i,$t:r}),n.$inject_state=g=>{"modReference"in g&&t(13,d=g.modReference),"onSubmit"in g&&t(14,f=g.onSubmit),"initialValues"in g&&t(15,S=g.initialValues),"submitIcon"in g&&t(1,P=g.submitIcon),"submitText"in g&&t(2,N=g.submitText),"editing"in g&&t(3,V=g.editing),"disabled"in g&&t(6,O=g.disabled),"dependencies"in g&&t(7,l=g.dependencies),"preview"in g&&t(8,s=g.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&32&&t(8,s=i.changelog||""),n.$$.dirty&16&&t(7,l=o?.uplugin?.Plugins?.filter(g=>!g.BasePlugin)||[])},[p,P,N,V,o,i,O,l,s,r,x,G,I,d,f,S,Y]}class Zt extends $t{constructor(e){super(e),wt(this,e,Wt,Te,yt,{t:0,modReference:13,onSubmit:14,initialValues:15,submitIcon:1,submitText:2,editing:3}),C("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:Te.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitIcon(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitIcon(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Zt as V};
//# sourceMappingURL=VersionForm.DXdURpNT.js.map
